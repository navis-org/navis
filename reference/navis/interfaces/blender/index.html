<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Python library for analysis of neuroanatomical data."><link href="../../intersection/intersect/" rel="prev"><link href="../cave_utils/" rel="next"><link rel="icon" href="../../../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>blender - navis</title><link rel="stylesheet" href="../../../../assets/stylesheets/main.84d31ad4.min.css"><link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css"><link rel="stylesheet" href="../../../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../../../../assets/_markdown_exec_pyodide.css"><link rel="stylesheet" href="../../../../assets/_mkdocstrings.css"><link rel="stylesheet" href="../../../../stylesheets/extra.css"><link rel="stylesheet" href="../../../../assets/external/unpkg.com/katex@0/dist/katex.min.css"><link rel="stylesheet" href="../../../../sg_gallery-rendered-html.css"><link rel="stylesheet" href="../../../../sg_gallery-binder.css"><link rel="stylesheet" href="../../../../sg_gallery-dataframe.css"><link rel="stylesheet" href="../../../../sg_gallery.css"><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property="og:type" content="website"><meta property="og:title" content="blender - navis"><meta property="og:description" content="Python library for analysis of neuroanatomical data."><meta property="og:image" content="./assets/images/social/reference/navis/interfaces/blender.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:url" content="None"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="blender - navis"><meta name="twitter:description" content="Python library for analysis of neuroanatomical data."><meta name="twitter:image" content="./assets/images/social/reference/navis/interfaces/blender.png"><link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#navis.interfaces.blender.Handler" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Header"> <a href="../../../.." title="navis" class="md-header__button md-logo" aria-label="navis" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> navis </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> blender </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M296.5 291.1C321 265.2 336 230.4 336 192c0-79.5-64.5-144-144-144S48 112.5 48 192c0 38.4 15 73.2 39.5 99.1 21.3 22.4 44.9 54 53.3 92.9h102.4c8.4-39 32-70.5 53.3-92.9m34.8 33C307.7 349 288 379.4 288 413.7V432c0 44.2-35.8 80-80 80h-32c-44.2 0-80-35.8-80-80v-18.3c0-34.3-19.7-64.7-43.3-89.6C20 289.7 0 243.2 0 192 0 86 86 0 192 0s192 86 192 192c0 51.2-20 97.7-52.7 132.1M144 184c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6 39.4-88 88-88 13.3 0 24 10.7 24 24s-10.7 24-24 24c-22.1 0-40 17.9-40 40"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="pink" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M292.9 384c7.3-22.3 21.9-42.5 38.4-59.9C364 289.7 384 243.2 384 192 384 86 298 0 192 0S0 86 0 192c0 51.2 20 97.7 52.7 132.1 16.5 17.4 31.2 37.6 38.4 59.9h201.7zm-4.9 48H96v16c0 44.2 35.8 80 80 80h32c44.2 0 80-35.8 80-80zM184 112c-39.8 0-72 32.2-72 72 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3 53.7-120 120-120 13.3 0 24 10.7 24 24s-10.7 24-24 24"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="Search"> <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/navis-org/navis" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> navis-org/navis </div> </a> </div> </nav> <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a href="../../../.." class="md-tabs__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg> Home </a> </li> <li class="md-tabs__item"> <a href="../../../../installation/" class="md-tabs__link"> Installation </a> </li> <li class="md-tabs__item"> <a href="../../../../quickstart/" class="md-tabs__link"> Quickstart </a> </li> <li class="md-tabs__item"> <a href="../../../../generated/gallery/" class="md-tabs__link"> Tutorials </a> </li> <li class="md-tabs__item"> <a href="../../../../ecosystem/" class="md-tabs__link"> <span style="color:rgb(250,175,3)">NAVis</span> &amp; Friends </a> </li> <li class="md-tabs__item"> <a href="../../../../changelog/" class="md-tabs__link"> Changelog </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href="../../../../api/" class="md-tabs__link"> API Documentation </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../.." title="navis" class="md-nav__button md-logo" aria-label="navis" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> navis </label> <div class="md-nav__source"> <a href="https://github.com/navis-org/navis" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> navis-org/navis </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../.." class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item"> <a href="../../../../installation/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.8 3.8 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.8 3.8 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"></path></svg> <span class="md-ellipsis"> Installation </span> </a> </li> <li class="md-nav__item"> <a href="../../../../quickstart/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39S16.66.269 11 5.93c-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.55.56 1.37.74 2.12.46A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61m-7.07 7.07c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83s-2.05.78-2.83 0m-5.66 7.07-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76-1.42-1.41L2 20.59zm0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"></path></svg> <span class="md-ellipsis"> Quickstart </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__container"> <a href="../../../../generated/gallery/" class="md-nav__link "> <span class="md-ellipsis"> Tutorials </span> </a> <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0"> <span class="md-ellipsis"> General Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> General Tutorials </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/tutorial_basic_00_basics/" class="md-nav__link"> <span class="md-ellipsis"> The Basics </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/tutorial_basic_01_neurons/" class="md-nav__link"> <span class="md-ellipsis"> Neuron Types </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/tutorial_basic_02_neuronlists/" class="md-nav__link"> <span class="md-ellipsis"> Lists of Neurons </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0"> <span class="md-ellipsis"> Import / Export </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> Import / Export </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/0_io/tutorial_io_00_skeletons/" class="md-nav__link"> <span class="md-ellipsis"> Skeletons </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/0_io/tutorial_io_01_meshes/" class="md-nav__link"> <span class="md-ellipsis"> Meshes </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/0_io/tutorial_io_02_dotprops/" class="md-nav__link"> <span class="md-ellipsis"> Dotprops </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/0_io/tutorial_io_04_pickle/" class="md-nav__link"> <span class="md-ellipsis"> Pickling </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/0_io/zzz_tutorial_io_05_skeletonize/" class="md-nav__link"> <span class="md-ellipsis"> Skeletons from light-level data </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0"> <span class="md-ellipsis"> Plotting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> Plotting </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_00_intro/" class="md-nav__link"> <span class="md-ellipsis"> Plotting Overview </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_01_colors/" class="md-nav__link"> <span class="md-ellipsis"> Coloring </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_02_1d/" class="md-nav__link"> <span class="md-ellipsis"> Neuron "Barcodes" </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_03_dend/" class="md-nav__link"> <span class="md-ellipsis"> Neuron Topology </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_04_skeletons/" class="md-nav__link"> <span class="md-ellipsis"> Fine-tuning Skeletons </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_05_depth/" class="md-nav__link"> <span class="md-ellipsis"> Depth-coloring </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_06_cortex/" class="md-nav__link"> <span class="md-ellipsis"> Cortical Neurons </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/1_plotting/tutorial_plotting_07_xkcd/" class="md-nav__link"> <span class="md-ellipsis"> XKCD Style </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0"> <span class="md-ellipsis"> Morphology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> Morphology </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/2_morpho/tutorial_morpho_00_manipulate/" class="md-nav__link"> <span class="md-ellipsis"> Manipulate Morphology </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/2_morpho/tutorial_morpho_01_analyze/" class="md-nav__link"> <span class="md-ellipsis"> Analyzing Neuron Morphology </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6"> <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0"> <span class="md-ellipsis"> Interfaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_6"> <span class="md-nav__icon md-icon"></span> Interfaces </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/3_interfaces/tutorial_interfaces_00_neuron/" class="md-nav__link"> <span class="md-ellipsis"> NEURON simulator </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/3_interfaces/tutorial_interfaces_01_neuron2/" class="md-nav__link"> <span class="md-ellipsis"> Visualize NEURON model </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/3_interfaces/tutorial_interfaces_02_blender/" class="md-nav__link"> <span class="md-ellipsis"> Blender 3D </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7"> <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0"> <span class="md-ellipsis"> Remote Data Sources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_7"> <span class="md-nav__icon md-icon"></span> Remote Data Sources </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/4_remote/tutorial_remote_00_neuprint/" class="md-nav__link"> <span class="md-ellipsis"> neuPrint </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/4_remote/tutorial_remote_01_cloudvolume/" class="md-nav__link"> <span class="md-ellipsis"> Neuroglancer &amp; CloudVolume </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/4_remote/tutorial_remote_02_microns/" class="md-nav__link"> <span class="md-ellipsis"> The MICrONS Datasets </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/4_remote/tutorial_remote_03_insect_db/" class="md-nav__link"> <span class="md-ellipsis"> Insect Brain DB </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/4_remote/tutorial_remote_04_h01/" class="md-nav__link"> <span class="md-ellipsis"> H01 Dataset </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8"> <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0"> <span class="md-ellipsis"> NBLAST </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_8"> <span class="md-nav__icon md-icon"></span> NBLAST </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/5_nblast/tutorial_nblast_00_intro/" class="md-nav__link"> <span class="md-ellipsis"> NBLAST </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/5_nblast/tutorial_nblast_03_smat/" class="md-nav__link"> <span class="md-ellipsis"> Custom score matrices </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/5_nblast/zzz_tutorial_nblast_01_flycircuit/" class="md-nav__link"> <span class="md-ellipsis"> NBLAST against FlyCircuit </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/5_nblast/zzz_tutorial_nblast_02_hemibrain/" class="md-nav__link"> <span class="md-ellipsis"> NBLAST using light-level data </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9"> <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0"> <span class="md-ellipsis"> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_9"> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../generated/gallery/6_misc/tutorial_misc_00_multiprocess/" class="md-nav__link"> <span class="md-ellipsis"> Multiprocessing </span> </a> </li> <li class="md-nav__item"> <a href="../../../../generated/gallery/6_misc/tutorial_misc_01_transforms/" class="md-nav__link"> <span class="md-ellipsis"> Transformations </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../ecosystem/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53z"></path></svg> <span class="md-ellipsis"> <span style="color:rgb(250,175,3)">NAVis</span> &amp; Friends </span> </a> </li> <li class="md-nav__item"> <a href="../../../../changelog/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.803.179Q8.76.171 7.72.38C5.639.797 3.974 1.828 2.77 3.445 1.232 5.515.367 8.072.049 11.492c-.125 1.353.008 2.711.181 4.216a9.97 9.97 0 0 0 2.144 5.214c.933 1.157 2.004 1.917 3.272 2.324a12 12 0 0 0 3.336.574 6 6 0 0 0 .795-.034l.416-.041a93 93 0 0 0 1.721-.186 21.4 21.4 0 0 0 7.393-2.257c2.007-1.048 3.41-2.594 4.17-4.597.354-.93.523-1.713.523-2.445a4.6 4.6 0 0 0-.064-.762c-.405-2.379-1.235-4.428-2.555-6.264-1.634-2.276-3.288-3.878-5.202-5.045C13.993.86 11.89.193 9.803.18Zm-.439 1.064q1.154-.032 2.376.237h-.001c2.73.597 5.137 2.002 7.154 4.173 2.288 2.46 3.591 5.045 3.988 7.899.071.528-.013 1.114-.096 1.622-.388 2.327-1.663 4.063-3.786 5.16a21 21 0 0 1-7.166 2.182c-.558.066-1.12.123-1.757.187l-.088.01a6.8 6.8 0 0 1-1.658-.03c-.69-.098-1.472-.21-2.224-.389-1.767-.42-3.069-1.622-3.978-3.658-.684-1.538-1.038-3.245-1.081-5.233a17.9 17.9 0 0 1 1.149-6.798c.62-1.641 1.517-3.453 3.462-4.418a8.75 8.75 0 0 1 3.706-.944m1.108 1.47a7.8 7.8 0 0 0-2.24.41c-1.6.525-2.718 1.304-3.523 2.438-1.499 2.118-2.275 4.58-2.31 7.325a10.1 10.1 0 0 0 .803 4.388c1.081 2.569 3.053 4.064 5.707 4.326 2.796.27 5.543-.381 8.178-1.937a8.1 8.1 0 0 0 2.772-2.624 7.1 7.1 0 0 0 1.168-3.86c0-2.162-1.015-4.47-3.049-6.862a6.4 6.4 0 0 0-.704-.707c-2.333-2.006-4.567-2.966-6.802-2.898zm.099 1.035c1.492-.022 3.015.475 4.672 1.508 1.783 1.117 3.161 2.763 4.091 4.909.887 2.02.905 3.938.058 5.696a6.8 6.8 0 0 1-2.907 2.988c-2.253 1.232-4.315 1.776-6.458 1.713h-.022c-1.55.06-2.89-.32-4.098-1.163-.7-.488-1.241-1.202-1.655-2.183a10.9 10.9 0 0 1-.872-4.273A12.7 12.7 0 0 1 4.404 8.09a12 12 0 0 1 .874-1.622l.163-.27c.67-1.108 1.725-1.639 3.103-2.099a6.8 6.8 0 0 1 2.027-.35zm.03 1.62c-1.18.037-2.28.465-3.289 1.283-1.395 1.13-2.23 2.72-2.63 4.993a7.24 7.24 0 0 0 .676 4.613c1.062 2.054 2.8 3.11 5.026 3.05h.008c2.958-.155 5.11-1.249 6.573-3.347a5.6 5.6 0 0 0 1.06-3.245 5.8 5.8 0 0 0-.242-1.639c-.72-2.435-2.161-4.145-4.29-5.085q-1.514-.667-2.892-.624Zm.312 1.064c.77.008 1.547.191 2.35.55 1.862.833 3.073 2.332 3.598 4.462.526 2.13-.27 4.205-2.066 5.423-1.479.999-2.93 1.447-4.438 1.367h-.04c-1.004.08-1.994-.226-2.943-.91a3.67 3.67 0 0 1-1.29-1.72 7.6 7.6 0 0 1-.514-2.727 8.5 8.5 0 0 1 .747-3.38c.676-1.556 1.724-2.503 3.215-2.893q.69-.18 1.38-.172zM9.455 8.758v6.882h1.155v-1.908l1.68 1.908h1.462l-2.273-2.5 1.871-1.958h-1.509l-1.231 1.337V8.758Z"></path></svg> <span class="md-ellipsis"> Changelog </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked> <div class="md-nav__link md-nav__container"> <a href="../../../../api/" class="md-nav__link "> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"></path></svg> <span class="md-ellipsis"> API Documentation </span> </a> <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> API Documentation </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" checked> <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0"> <span class="md-ellipsis"> Code References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_7_1"> <span class="md-nav__icon md-icon"></span> Code References </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1" checked> <div class="md-nav__link md-nav__container"> <a href="../../" class="md-nav__link "> <span class="md-ellipsis"> navis </span> </a> <label class="md-nav__link " for="__nav_7_1_1" id="__nav_7_1_1_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_1_1_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_7_1_1"> <span class="md-nav__icon md-icon"></span> navis </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../config/" class="md-nav__link"> <span class="md-ellipsis"> config </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_2"> <div class="md-nav__link md-nav__container"> <a href="../../connectivity/" class="md-nav__link "> <span class="md-ellipsis"> connectivity </span> </a> <label class="md-nav__link " for="__nav_7_1_1_2" id="__nav_7_1_1_2_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_2"> <span class="md-nav__icon md-icon"></span> connectivity </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../connectivity/adjacency/" class="md-nav__link"> <span class="md-ellipsis"> adjacency </span> </a> </li> <li class="md-nav__item"> <a href="../../connectivity/similarity/" class="md-nav__link"> <span class="md-ellipsis"> similarity </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_3"> <div class="md-nav__link md-nav__container"> <a href="../../conversion/" class="md-nav__link "> <span class="md-ellipsis"> conversion </span> </a> <label class="md-nav__link " for="__nav_7_1_1_3" id="__nav_7_1_1_3_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_3"> <span class="md-nav__icon md-icon"></span> conversion </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../conversion/meshing/" class="md-nav__link"> <span class="md-ellipsis"> meshing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_4"> <div class="md-nav__link md-nav__container"> <a href="../../core/" class="md-nav__link "> <span class="md-ellipsis"> core </span> </a> <label class="md-nav__link " for="__nav_7_1_1_4" id="__nav_7_1_1_4_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_4"> <span class="md-nav__icon md-icon"></span> core </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../core/base/" class="md-nav__link"> <span class="md-ellipsis"> base </span> </a> </li> <li class="md-nav__item"> <a href="../../core/core_utils/" class="md-nav__link"> <span class="md-ellipsis"> core_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../core/skeleton/" class="md-nav__link"> <span class="md-ellipsis"> skeleton </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_5"> <div class="md-nav__link md-nav__container"> <a href="../../graph/" class="md-nav__link "> <span class="md-ellipsis"> graph </span> </a> <label class="md-nav__link " for="__nav_7_1_1_5" id="__nav_7_1_1_5_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_5"> <span class="md-nav__icon md-icon"></span> graph </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../graph/graph_utils/" class="md-nav__link"> <span class="md-ellipsis"> graph_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../graph/clinic/" class="md-nav__link"> <span class="md-ellipsis"> clinic </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_6"> <div class="md-nav__link md-nav__container"> <a href="../../meshes/" class="md-nav__link "> <span class="md-ellipsis"> meshes </span> </a> <label class="md-nav__link " for="__nav_7_1_1_6" id="__nav_7_1_1_6_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_6"> <span class="md-nav__icon md-icon"></span> meshes </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../meshes/b3d/" class="md-nav__link"> <span class="md-ellipsis"> b3d </span> </a> </li> <li class="md-nav__item"> <a href="../../meshes/mesh_utils/" class="md-nav__link"> <span class="md-ellipsis"> mesh_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../meshes/o3d/" class="md-nav__link"> <span class="md-ellipsis"> o3d </span> </a> </li> <li class="md-nav__item"> <a href="../../meshes/operations/" class="md-nav__link"> <span class="md-ellipsis"> operations </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_7"> <div class="md-nav__link md-nav__container"> <a href="../../models/" class="md-nav__link "> <span class="md-ellipsis"> models </span> </a> <label class="md-nav__link " for="__nav_7_1_1_7" id="__nav_7_1_1_7_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_7"> <span class="md-nav__icon md-icon"></span> models </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../models/network_models/" class="md-nav__link"> <span class="md-ellipsis"> network_models </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_8"> <div class="md-nav__link md-nav__container"> <a href="../../morpho/" class="md-nav__link "> <span class="md-ellipsis"> morpho </span> </a> <label class="md-nav__link " for="__nav_7_1_1_8" id="__nav_7_1_1_8_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_8"> <span class="md-nav__icon md-icon"></span> morpho </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../morpho/ivscc/" class="md-nav__link"> <span class="md-ellipsis"> ivscc </span> </a> </li> <li class="md-nav__item"> <a href="../../morpho/mmetrics/" class="md-nav__link"> <span class="md-ellipsis"> mmetrics </span> </a> </li> <li class="md-nav__item"> <a href="../../morpho/persistence/" class="md-nav__link"> <span class="md-ellipsis"> persistence </span> </a> </li> <li class="md-nav__item"> <a href="../../morpho/subset/" class="md-nav__link"> <span class="md-ellipsis"> subset </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_9"> <div class="md-nav__link md-nav__container"> <a href="../../nbl/" class="md-nav__link "> <span class="md-ellipsis"> nbl </span> </a> <label class="md-nav__link " for="__nav_7_1_1_9" id="__nav_7_1_1_9_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_9_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_9"> <span class="md-nav__icon md-icon"></span> nbl </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../nbl/ablast_funcs/" class="md-nav__link"> <span class="md-ellipsis"> ablast_funcs </span> </a> </li> <li class="md-nav__item"> <a href="../../nbl/nblast_funcs/" class="md-nav__link"> <span class="md-ellipsis"> nblast_funcs </span> </a> </li> <li class="md-nav__item"> <a href="../../nbl/smat/" class="md-nav__link"> <span class="md-ellipsis"> smat </span> </a> </li> <li class="md-nav__item"> <a href="../../nbl/synblast_funcs/" class="md-nav__link"> <span class="md-ellipsis"> synblast_funcs </span> </a> </li> <li class="md-nav__item"> <a href="../../nbl/utils/" class="md-nav__link"> <span class="md-ellipsis"> utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_10"> <div class="md-nav__link md-nav__container"> <a href="../../plotting/" class="md-nav__link "> <span class="md-ellipsis"> plotting </span> </a> <label class="md-nav__link " for="__nav_7_1_1_10" id="__nav_7_1_1_10_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_10_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_10"> <span class="md-nav__icon md-icon"></span> plotting </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../plotting/colors/" class="md-nav__link"> <span class="md-ellipsis"> colors </span> </a> </li> <li class="md-nav__item"> <a href="../../plotting/dd/" class="md-nav__link"> <span class="md-ellipsis"> dd </span> </a> </li> <li class="md-nav__item"> <a href="../../plotting/ddd/" class="md-nav__link"> <span class="md-ellipsis"> ddd </span> </a> </li> <li class="md-nav__item"> <a href="../../plotting/plot_utils/" class="md-nav__link"> <span class="md-ellipsis"> plot_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../plotting/settings/" class="md-nav__link"> <span class="md-ellipsis"> settings </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_10_6"> <label class="md-nav__link" for="__nav_7_1_1_10_6" id="__nav_7_1_1_10_6_label" tabindex="0"> <span class="md-ellipsis"> vispy </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_1_1_10_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_10_6"> <span class="md-nav__icon md-icon"></span> vispy </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../plotting/vispy/viewer/" class="md-nav__link"> <span class="md-ellipsis"> viewer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_10_7"> <label class="md-nav__link" for="__nav_7_1_1_10_7" id="__nav_7_1_1_10_7_label" tabindex="0"> <span class="md-ellipsis"> k3d </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_1_1_10_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_10_7"> <span class="md-nav__icon md-icon"></span> k3d </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../plotting/k3d/k3d_objects/" class="md-nav__link"> <span class="md-ellipsis"> k3d_objects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_10_8"> <label class="md-nav__link" for="__nav_7_1_1_10_8" id="__nav_7_1_1_10_8_label" tabindex="0"> <span class="md-ellipsis"> plotly </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_1_1_10_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_10_8"> <span class="md-nav__icon md-icon"></span> plotly </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../plotting/plotly/graph_objs/" class="md-nav__link"> <span class="md-ellipsis"> graph_objs </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_11"> <div class="md-nav__link md-nav__container"> <a href="../../transforms/" class="md-nav__link "> <span class="md-ellipsis"> transforms </span> </a> <label class="md-nav__link " for="__nav_7_1_1_11" id="__nav_7_1_1_11_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_11_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_11"> <span class="md-nav__icon md-icon"></span> transforms </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../transforms/align/" class="md-nav__link"> <span class="md-ellipsis"> align </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/affine/" class="md-nav__link"> <span class="md-ellipsis"> affine </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/base/" class="md-nav__link"> <span class="md-ellipsis"> base </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/cmtk/" class="md-nav__link"> <span class="md-ellipsis"> cmtk </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/elastix/" class="md-nav__link"> <span class="md-ellipsis"> elastix </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/factory/" class="md-nav__link"> <span class="md-ellipsis"> factory </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/h5reg/" class="md-nav__link"> <span class="md-ellipsis"> h5reg </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/templates/" class="md-nav__link"> <span class="md-ellipsis"> templates </span> </a> </li> <li class="md-nav__item"> <a href="../../transforms/thinplate/" class="md-nav__link"> <span class="md-ellipsis"> thinplate </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_12"> <div class="md-nav__link md-nav__container"> <a href="../../utils/" class="md-nav__link "> <span class="md-ellipsis"> utils </span> </a> <label class="md-nav__link " for="__nav_7_1_1_12" id="__nav_7_1_1_12_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_12_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_12"> <span class="md-nav__icon md-icon"></span> utils </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../utils/cv/" class="md-nav__link"> <span class="md-ellipsis"> cv </span> </a> </li> <li class="md-nav__item"> <a href="../../utils/decorators/" class="md-nav__link"> <span class="md-ellipsis"> decorators </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_13"> <label class="md-nav__link" for="__nav_7_1_1_13" id="__nav_7_1_1_13_label" tabindex="0"> <span class="md-ellipsis"> intersection </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_13_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_13"> <span class="md-nav__icon md-icon"></span> intersection </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../intersection/intersect/" class="md-nav__link"> <span class="md-ellipsis"> intersect </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_14" checked> <label class="md-nav__link" for="__nav_7_1_1_14" id="__nav_7_1_1_14_label" tabindex="0"> <span class="md-ellipsis"> interfaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_14_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_7_1_1_14"> <span class="md-nav__icon md-icon"></span> interfaces </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> blender </span> <span class="md-nav__icon md-icon"></span> </label> <a href="./" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> blender </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler" class="md-nav__link"> <span class="md-ellipsis"> Handler </span> </a> <nav class="md-nav" aria-label="Handler"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.add" class="md-nav__link"> <span class="md-ellipsis"> add </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.alpha" class="md-nav__link"> <span class="md-ellipsis"> alpha </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.bevel" class="md-nav__link"> <span class="md-ellipsis"> bevel </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.clear" class="md-nav__link"> <span class="md-ellipsis"> clear </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.color" class="md-nav__link"> <span class="md-ellipsis"> color </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.colorize" class="md-nav__link"> <span class="md-ellipsis"> colorize </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.emit" class="md-nav__link"> <span class="md-ellipsis"> emit </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.hide" class="md-nav__link"> <span class="md-ellipsis"> hide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.select" class="md-nav__link"> <span class="md-ellipsis"> select </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.unhide" class="md-nav__link"> <span class="md-ellipsis"> unhide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.use_transparency" class="md-nav__link"> <span class="md-ellipsis"> use_transparency </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList" class="md-nav__link"> <span class="md-ellipsis"> ObjectList </span> </a> <nav class="md-nav" aria-label="ObjectList"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.objects" class="md-nav__link"> <span class="md-ellipsis"> objects </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.alpha" class="md-nav__link"> <span class="md-ellipsis"> alpha </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.bevel" class="md-nav__link"> <span class="md-ellipsis"> bevel </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.color" class="md-nav__link"> <span class="md-ellipsis"> color </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.colorize" class="md-nav__link"> <span class="md-ellipsis"> colorize </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.delete" class="md-nav__link"> <span class="md-ellipsis"> delete </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.emit" class="md-nav__link"> <span class="md-ellipsis"> emit </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.hide" class="md-nav__link"> <span class="md-ellipsis"> hide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.hide_others" class="md-nav__link"> <span class="md-ellipsis"> hide_others </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.select" class="md-nav__link"> <span class="md-ellipsis"> select </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.unhide" class="md-nav__link"> <span class="md-ellipsis"> unhide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.use_transparency" class="md-nav__link"> <span class="md-ellipsis"> use_transparency </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.calc_sphere" class="md-nav__link"> <span class="md-ellipsis"> calc_sphere </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.eval_color" class="md-nav__link"> <span class="md-ellipsis"> eval_color </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../cave_utils/" class="md-nav__link"> <span class="md-ellipsis"> cave_utils </span> </a> </li> <li class="md-nav__item"> <a href="../h01/" class="md-nav__link"> <span class="md-ellipsis"> h01 </span> </a> </li> <li class="md-nav__item"> <a href="../insectbrain_db/" class="md-nav__link"> <span class="md-ellipsis"> insectbrain_db </span> </a> </li> <li class="md-nav__item"> <a href="../microns/" class="md-nav__link"> <span class="md-ellipsis"> microns </span> </a> </li> <li class="md-nav__item"> <a href="../neuprint/" class="md-nav__link"> <span class="md-ellipsis"> neuprint </span> </a> </li> <li class="md-nav__item"> <a href="../neuromorpho/" class="md-nav__link"> <span class="md-ellipsis"> neuromorpho </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_14_8"> <div class="md-nav__link md-nav__container"> <a href="../neuron/" class="md-nav__link "> <span class="md-ellipsis"> neuron </span> </a> <label class="md-nav__link " for="__nav_7_1_1_14_8" id="__nav_7_1_1_14_8_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_7_1_1_14_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_14_8"> <span class="md-nav__icon md-icon"></span> neuron </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../neuron/comp/" class="md-nav__link"> <span class="md-ellipsis"> comp </span> </a> </li> <li class="md-nav__item"> <a href="../neuron/network/" class="md-nav__link"> <span class="md-ellipsis"> network </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_15"> <label class="md-nav__link" for="__nav_7_1_1_15" id="__nav_7_1_1_15_label" tabindex="0"> <span class="md-ellipsis"> io </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_15_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_15"> <span class="md-nav__icon md-icon"></span> io </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../io/base/" class="md-nav__link"> <span class="md-ellipsis"> base </span> </a> </li> <li class="md-nav__item"> <a href="../../io/hdf_io/" class="md-nav__link"> <span class="md-ellipsis"> hdf_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/mesh_io/" class="md-nav__link"> <span class="md-ellipsis"> mesh_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/nmx_io/" class="md-nav__link"> <span class="md-ellipsis"> nmx_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/nrrd_io/" class="md-nav__link"> <span class="md-ellipsis"> nrrd_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/precomputed_io/" class="md-nav__link"> <span class="md-ellipsis"> precomputed_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/rda_io/" class="md-nav__link"> <span class="md-ellipsis"> rda_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/swc_io/" class="md-nav__link"> <span class="md-ellipsis"> swc_io </span> </a> </li> <li class="md-nav__item"> <a href="../../io/tiff_io/" class="md-nav__link"> <span class="md-ellipsis"> tiff_io </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_1_16"> <label class="md-nav__link" for="__nav_7_1_1_16" id="__nav_7_1_1_16_label" tabindex="0"> <span class="md-ellipsis"> sampling </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_1_1_16_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7_1_1_16"> <span class="md-nav__icon md-icon"></span> sampling </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../sampling/downsampling/" class="md-nav__link"> <span class="md-ellipsis"> downsampling </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler" class="md-nav__link"> <span class="md-ellipsis"> Handler </span> </a> <nav class="md-nav" aria-label="Handler"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.add" class="md-nav__link"> <span class="md-ellipsis"> add </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.alpha" class="md-nav__link"> <span class="md-ellipsis"> alpha </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.bevel" class="md-nav__link"> <span class="md-ellipsis"> bevel </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.clear" class="md-nav__link"> <span class="md-ellipsis"> clear </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.color" class="md-nav__link"> <span class="md-ellipsis"> color </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.colorize" class="md-nav__link"> <span class="md-ellipsis"> colorize </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.emit" class="md-nav__link"> <span class="md-ellipsis"> emit </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.hide" class="md-nav__link"> <span class="md-ellipsis"> hide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.select" class="md-nav__link"> <span class="md-ellipsis"> select </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.unhide" class="md-nav__link"> <span class="md-ellipsis"> unhide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.Handler.use_transparency" class="md-nav__link"> <span class="md-ellipsis"> use_transparency </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList" class="md-nav__link"> <span class="md-ellipsis"> ObjectList </span> </a> <nav class="md-nav" aria-label="ObjectList"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.objects" class="md-nav__link"> <span class="md-ellipsis"> objects </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.alpha" class="md-nav__link"> <span class="md-ellipsis"> alpha </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.bevel" class="md-nav__link"> <span class="md-ellipsis"> bevel </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.color" class="md-nav__link"> <span class="md-ellipsis"> color </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.colorize" class="md-nav__link"> <span class="md-ellipsis"> colorize </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.delete" class="md-nav__link"> <span class="md-ellipsis"> delete </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.emit" class="md-nav__link"> <span class="md-ellipsis"> emit </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.hide" class="md-nav__link"> <span class="md-ellipsis"> hide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.hide_others" class="md-nav__link"> <span class="md-ellipsis"> hide_others </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.select" class="md-nav__link"> <span class="md-ellipsis"> select </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.unhide" class="md-nav__link"> <span class="md-ellipsis"> unhide </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.ObjectList.use_transparency" class="md-nav__link"> <span class="md-ellipsis"> use_transparency </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.calc_sphere" class="md-nav__link"> <span class="md-ellipsis"> calc_sphere </span> </a> </li> <li class="md-nav__item"> <a href="#navis.interfaces.blender.eval_color" class="md-nav__link"> <span class="md-ellipsis"> eval_color </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1>blender</h1> <div class="doc doc-object doc-class"> <h2 id="navis.interfaces.blender.Handler" class="doc doc-heading"> <code>navis.interfaces.blender.Handler</code> <a href="#navis.interfaces.blender.Handler" class="headerlink" title="Permanent link">#</a></h2> <div class="doc doc-contents first"> <p>Class that interfaces with scene in Blender.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>scaling</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>       scaling factor between navis and Blender coordinates.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>1 / 10000</code> </span> </p> </td> </tr> </tbody> </table> <details class="note" open> <summary>Notes</summary> <div class="highlight"><pre><span></span><code>(1) The handler adds neurons and keeps track of them in the scene.
(2) If you request a list of objects via its attributes (e.g. `Handler.neurons`)
    or via [`navis.interfaces.blender.Handler.select`][], a [`navis.interfaces.blender.ObjectList`][]
    is returned. This class lets you change basic parameters of your selected
    neurons.
</code></pre></div> </details> <table> <thead> <tr> <th><span class="doc-section-title">ATTRIBUTE</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.neurons">neurons</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all neurons</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.connectors">connectors</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all connectors</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.soma">soma</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all somata</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.selected">selected</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing selected objects</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.presynapses">presynapses</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all presynapses</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.postsynapses">postsynapses</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all postsynapses</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.gapjunctions">gapjunctions</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all gap junctions</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.abutting">abutting</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all abutting connectors</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.Handler.all">all</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all objects</code> </span> </p> </td> </tr> </tbody> </table> <p><span class="doc-section-title">Examples:</span></p> <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># This example assumes you have alread imported and set up navis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># b3d module has to be imported explicitly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">navis</span><span class="w"> </span><span class="kn">import</span> <span class="n">b3d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get some neurons (you have already set up a remote instance?)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nl</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">example_neurons</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize handler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">b3d</span><span class="o">.</span><span class="n">Handler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add neurons</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assign colors to all neurons</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">colorize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Select all somas and change color to black</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">soma</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Clear scene</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add only soma</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nl</span><span class="p">,</span> <span class="n">neurites</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">connectors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Handler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Class that interfaces with scene in Blender.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    scaling :   float, optional</span>
<span class="sd">                   scaling factor between navis and Blender coordinates.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>

<span class="sd">        (1) The handler adds neurons and keeps track of them in the scene.</span>
<span class="sd">        (2) If you request a list of objects via its attributes (e.g. `Handler.neurons`)</span>
<span class="sd">            or via [`navis.interfaces.blender.Handler.select`][], a [`navis.interfaces.blender.ObjectList`][]</span>
<span class="sd">            is returned. This class lets you change basic parameters of your selected</span>
<span class="sd">            neurons.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    neurons :       returns list containing all neurons</span>
<span class="sd">    connectors :    returns list containing all connectors</span>
<span class="sd">    soma :          returns list containing all somata</span>
<span class="sd">    selected :      returns list containing selected objects</span>
<span class="sd">    presynapses :   returns list containing all presynapses</span>
<span class="sd">    postsynapses :  returns list containing all postsynapses</span>
<span class="sd">    gapjunctions :  returns list containing all gap junctions</span>
<span class="sd">    abutting :      returns list containing all abutting connectors</span>
<span class="sd">    all :           returns list containing all objects</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; # This example assumes you have alread imported and set up navis</span>
<span class="sd">    &gt;&gt;&gt; # b3d module has to be imported explicitly</span>
<span class="sd">    &gt;&gt;&gt; from navis import b3d</span>
<span class="sd">    &gt;&gt;&gt; # Get some neurons (you have already set up a remote instance?)</span>
<span class="sd">    &gt;&gt;&gt; nl = navis.example_neurons()</span>
<span class="sd">    &gt;&gt;&gt; # Initialize handler</span>
<span class="sd">    &gt;&gt;&gt; h = b3d.Handler()</span>
<span class="sd">    &gt;&gt;&gt; # Add neurons</span>
<span class="sd">    &gt;&gt;&gt; h.add(nl)</span>
<span class="sd">    &gt;&gt;&gt; # Assign colors to all neurons</span>
<span class="sd">    &gt;&gt;&gt; h.colorize()</span>
<span class="sd">    &gt;&gt;&gt; # Select all somas and change color to black</span>
<span class="sd">    &gt;&gt;&gt; h.soma.color(0, 0, 0)</span>
<span class="sd">    &gt;&gt;&gt; # Clear scene</span>
<span class="sd">    &gt;&gt;&gt; h.clear()</span>
<span class="sd">    &gt;&gt;&gt; # Add only soma</span>
<span class="sd">    &gt;&gt;&gt; h.add(nl, neurites=False, connectors=False)</span>

<span class="sd">    """</span>
    <span class="n">cn_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">0</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'presynapses'</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
        <span class="mi">1</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'postsynapses'</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
        <span class="mi">2</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'gapjunction'</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
        <span class="mi">3</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'abutting'</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

    <span class="p">}</span>  <span class="c1"># : defines default colours/names for different connector types</span>

    <span class="c1"># Some synonyms</span>
    <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'pre'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cn_dict</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'post'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cn_dict</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'gap'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'gapjunction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cn_dict</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'abutting'</span><span class="p">]</span> <span class="o">=</span> <span class="n">cn_dict</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="c1"># Some other parameters</span>
    <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'lines'</span>  <span class="c1"># "lines" or "spheres", overriden if MeshNeuron</span>
    <span class="n">cn_dict</span><span class="p">[</span><span class="s1">'size'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.01</span>  <span class="c1"># sets size of spheres only</span>

    <span class="n">defaults</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">bevel_depth</span><span class="o">=</span><span class="mf">0.007</span><span class="p">,</span>
                    <span class="n">bevel_resolution</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                    <span class="n">resolution_u</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">scaling</span><span class="o">=</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">10000</span><span class="p">,</span>
                 <span class="n">axes_order</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                 <span class="n">ax_translate</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span> <span class="o">=</span> <span class="n">scaling</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cn_dict</span> <span class="o">=</span> <span class="n">Handler</span><span class="o">.</span><span class="n">cn_dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span> <span class="o">=</span> <span class="n">axes_order</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span> <span class="o">=</span> <span class="n">ax_translate</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_selection_helper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="k">if</span> <span class="s1">'type'</span> <span class="ow">in</span> <span class="n">ob</span> <span class="ow">and</span> <span class="n">ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="nb">type</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_cn_selection_helper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cn_type</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="k">if</span> <span class="s1">'type'</span> <span class="ow">in</span> <span class="n">ob</span> <span class="ow">and</span> <span class="n">ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'CONNECTORS'</span> <span class="ow">and</span> <span class="n">ob</span><span class="p">[</span><span class="s1">'cn_type'</span><span class="p">]</span> <span class="o">==</span> <span class="n">cn_type</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'neurons'</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'neuron'</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'neurites'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_selection_helper</span><span class="p">(</span><span class="s1">'NEURON'</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'connectors'</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'connector'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_selection_helper</span><span class="p">(</span><span class="s1">'CONNECTORS'</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'soma'</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'somas'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_selection_helper</span><span class="p">(</span><span class="s1">'SOMA'</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'selected'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">selected_objects</span> <span class="k">if</span> <span class="s1">'navis_object'</span> <span class="ow">in</span> <span class="n">ob</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'visible'</span><span class="p">:</span>
            <span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">o</span><span class="o">.</span><span class="n">hide</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'presynapses'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cn_selection_helper</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'postsynapses'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cn_selection_helper</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'gapjunctions'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cn_selection_helper</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'abutting'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cn_selection_helper</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'all'</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">connectors</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">soma</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">'Unknown attribute '</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">neurites</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">soma</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">connectors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">use_radii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Add neuron(s) to scene.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x :             TreeNeuron | MeshNeuron | NeuronList | core.Volume</span>
<span class="sd">                        Objects to import into Blender.</span>
<span class="sd">        neurites :      bool, optional</span>
<span class="sd">                        Plot neurites. TreeNeurons only.</span>
<span class="sd">        soma :          bool, optional</span>
<span class="sd">                        Plot somas. TreeNeurons only.</span>
<span class="sd">        connectors :    bool, optional</span>
<span class="sd">                        Plot connectors. Uses a defaults dictionary to set</span>
<span class="sd">                        color/type. See Examples on how to change.</span>
<span class="sd">        redraw :        bool, optional</span>
<span class="sd">                        If True, will redraw window after each neuron. This</span>
<span class="sd">                        will slow down loading!</span>
<span class="sd">        use_radii :     bool, optional</span>
<span class="sd">                        If True, will use node radii. For TreeNeurons only.</span>
<span class="sd">        skip_existing : bool, optional</span>
<span class="sd">                        If True, will skip neurons that are already loaded.</span>
<span class="sd">        downsample :    False | int, optional</span>
<span class="sd">                        If integer &lt; 1, will downsample neurites upon import.</span>
<span class="sd">                        Preserves branch point/roots. TreeNeurons only.</span>
<span class="sd">        collection :    str, optional</span>
<span class="sd">                        Only for Blender &gt;2.8: add object(s) to given collection.</span>
<span class="sd">                        If collection does not exist, will be created.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        Add one of the example neurons:</span>

<span class="sd">        &gt;&gt;&gt; h = navis.interfaces.blender.Handler()</span>
<span class="sd">        &gt;&gt;&gt; n = navis.example_neurons(1)</span>
<span class="sd">        &gt;&gt;&gt; h.add(n, connectors=True)</span>

<span class="sd">        Change connector settings:</span>

<span class="sd">        &gt;&gt;&gt; h.cn_dict['display'] = 'sphere'</span>
<span class="sd">        &gt;&gt;&gt; h.cn_dict[0]['color'] = (1, 1, 0)</span>

<span class="sd">        """</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">skip_existing</span><span class="p">:</span>
            <span class="n">exists</span> <span class="o">=</span> <span class="p">[</span><span class="n">ob</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">BaseNeuron</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">NeuronList</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">redraw</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Set "redraw=False" to vastly speed up import!'</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">BaseNeuron</span><span class="p">):</span>
                <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
            <span class="n">wm</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">window_manager</span>
            <span class="n">wm</span><span class="o">.</span><span class="n">progress_begin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
                <span class="c1"># Skip existing if applicable</span>
                <span class="k">if</span> <span class="n">skip_existing</span> <span class="ow">and</span> <span class="n">n</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">exists</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_create_neuron</span><span class="p">(</span><span class="n">n</span><span class="p">,</span>
                                    <span class="n">neurites</span><span class="o">=</span><span class="n">neurites</span><span class="p">,</span>
                                    <span class="n">soma</span><span class="o">=</span><span class="n">soma</span><span class="p">,</span>
                                    <span class="n">connectors</span><span class="o">=</span><span class="n">connectors</span><span class="p">,</span>
                                    <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span>
                                    <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">,</span>
                                    <span class="n">use_radii</span><span class="o">=</span><span class="n">use_radii</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">redraw</span><span class="p">:</span>
                    <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">wm</span><span class="o">.</span><span class="n">redraw_timer</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">'DRAW_WIN_SWAP'</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">wm</span><span class="o">.</span><span class="n">progress_update</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">wm</span><span class="o">.</span><span class="n">progress_end</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">Trimesh</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_volume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">Dotprops</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_dotprops</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Unable add data type of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Import done in </span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">start</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">s'</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Clear all neurons """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_scatter2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create scatter by reusing mesh data.</span>

<span class="sd">        This generate an individual objects for each data point. This is slower!</span>

<span class="sd">        """</span>
        <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">ndim</span> <span class="o">!=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Array must be of shape N,3'</span><span class="p">)</span>

        <span class="c1"># Get &amp; scale coordinates and invert y</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
        <span class="n">coords</span> <span class="o">*=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">)</span>
        <span class="n">coords</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

        <span class="n">verts</span><span class="p">,</span> <span class="n">faces</span> <span class="o">=</span> <span class="n">calc_sphere</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'size'</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">),</span>
                                   <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'sp_res'</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
                                   <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'sp_res'</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

        <span class="n">mesh</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">meshes</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'scatter'</span><span class="p">))</span>
        <span class="n">mesh</span><span class="o">.</span><span class="n">from_pydata</span><span class="p">(</span><span class="n">verts</span><span class="p">,</span> <span class="p">[],</span> <span class="n">faces</span><span class="p">)</span>
        <span class="n">mesh</span><span class="o">.</span><span class="n">polygons</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'use_smooth'</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">polygons</span><span class="p">))</span>

        <span class="n">objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">co</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'scatter'</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
                                       <span class="n">mesh</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">co</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="c1"># Link to scene and add to group</span>
        <span class="n">group_name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'scatter'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">group_name</span> <span class="o">!=</span> <span class="s1">'scatter'</span> <span class="ow">and</span> <span class="n">group_name</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groups</span><span class="p">:</span>
            <span class="n">group</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">group</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">group_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="n">group</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_scatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create scatter."""</span>
        <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">ndim</span> <span class="o">!=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Array must be of shape N,3'</span><span class="p">)</span>

        <span class="c1"># Get &amp; scale coordinates and invert y</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
        <span class="n">coords</span> <span class="o">*=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">)</span>
        <span class="n">coords</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

        <span class="c1"># Generate a base sphere</span>
        <span class="n">base_sphere</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">creation</span><span class="o">.</span><span class="n">uv_sphere</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'size'</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">),</span>
                                            <span class="n">count</span><span class="o">=</span><span class="p">[</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'sp_res'</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
                                                   <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'sp_res'</span><span class="p">,</span> <span class="mi">7</span><span class="p">)])</span>
        <span class="n">base_verts</span><span class="p">,</span> <span class="n">base_faces</span> <span class="o">=</span> <span class="n">base_sphere</span><span class="o">.</span><span class="n">vertices</span><span class="p">,</span> <span class="n">base_sphere</span><span class="o">.</span><span class="n">faces</span>

        <span class="c1"># Repeat sphere vertices</span>
        <span class="n">sp_verts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">base_verts</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
        <span class="c1"># Add coords offsets to each sphere</span>
        <span class="n">offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">base_verts</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sp_verts</span> <span class="o">+=</span> <span class="n">offsets</span>

        <span class="c1"># Repeat sphere faces and offset vertex indices</span>
        <span class="n">sp_faces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">base_faces</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
        <span class="n">face_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                 <span class="n">base_faces</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">face_offsets</span> <span class="o">*=</span> <span class="n">base_verts</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">sp_faces</span> <span class="o">+=</span> <span class="n">face_offsets</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">face_offsets</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># Generate mesh</span>
        <span class="n">mesh</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">meshes</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'scatter'</span><span class="p">))</span>
        <span class="n">mesh</span><span class="o">.</span><span class="n">from_pydata</span><span class="p">(</span><span class="n">sp_verts</span><span class="p">,</span> <span class="p">[],</span> <span class="n">sp_faces</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
        <span class="n">mesh</span><span class="o">.</span><span class="n">polygons</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'use_smooth'</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">polygons</span><span class="p">))</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'scatter'</span><span class="p">),</span> <span class="n">mesh</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">obj</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_neuron</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">neurites</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">soma</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">connectors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">use_radii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create neuron object."""</span>
        <span class="n">mat_name</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">'M#</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">'</span><span class="p">)[:</span><span class="mi">59</span><span class="p">]</span>

        <span class="n">mat</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mat_name</span><span class="p">,</span>
                                     <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mat_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">TreeNeuron</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">neurites</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_create_skeleton</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span>
                                      <span class="n">use_radii</span><span class="o">=</span><span class="n">use_radii</span><span class="p">,</span>
                                      <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">,</span>
                                      <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">soma</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">soma</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_create_soma</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">MeshNeuron</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_mesh</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Expected Mesh/TreeNeuron, got "</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1">"'</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">connectors</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">has_connectors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_connectors</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_mesh</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create mesh from MeshNeuron."""</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>

        <span class="c1"># Make copy of vertices as we are potentially modifying them</span>
        <span class="n">verts</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># Convert to Blender space</span>
        <span class="n">verts</span> <span class="o">=</span> <span class="n">verts</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>
        <span class="n">verts</span> <span class="o">=</span> <span class="n">verts</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
        <span class="n">verts</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

        <span class="n">me</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">meshes</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1"> mesh'</span><span class="p">)</span>
        <span class="n">ob</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s2">"#</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">me</span><span class="p">)</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'NEURON'</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'navis_object'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="n">blender_verts</span> <span class="o">=</span> <span class="n">verts</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">me</span><span class="o">.</span><span class="n">from_pydata</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">blender_verts</span><span class="p">),</span> <span class="p">[],</span> <span class="nb">list</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">faces</span><span class="p">))</span>
        <span class="n">me</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="n">me</span><span class="o">.</span><span class="n">polygons</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'use_smooth'</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">me</span><span class="o">.</span><span class="n">polygons</span><span class="p">))</span>

        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span> <span class="o">=</span> <span class="n">mat</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_skeleton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">use_radii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                         <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create neuron branches."""</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>

        <span class="n">cu</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">curves</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> mesh"</span><span class="p">,</span> <span class="s1">'CURVE'</span><span class="p">)</span>
        <span class="n">ob</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s2">"#</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">cu</span><span class="p">)</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'NEURON'</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'navis_object'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">dimensions</span> <span class="o">=</span> <span class="s1">'3D'</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">fill_mode</span> <span class="o">=</span> <span class="s1">'FULL'</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">bevel_resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'bevel_resolution'</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">resolution_u</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'resolution_u'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">use_radii</span><span class="p">:</span>
            <span class="n">cu</span><span class="o">.</span><span class="n">bevel_depth</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cu</span><span class="o">.</span><span class="n">bevel_depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'bevel_depth'</span><span class="p">,</span> <span class="mf">0.007</span><span class="p">)</span>

        <span class="c1"># DO NOT touch this: lookup via dict is &gt;10X faster!</span>
        <span class="n">tn_coords</span> <span class="o">=</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">,</span>
                                 <span class="n">r</span><span class="o">.</span><span class="n">y</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">,</span>
                                 <span class="n">r</span><span class="o">.</span><span class="n">z</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">itertuples</span><span class="p">()}</span>
        <span class="k">if</span> <span class="n">use_radii</span><span class="p">:</span>
            <span class="n">tn_radii</span> <span class="o">=</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">node_id</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">itertuples</span><span class="p">()}</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">segments</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">downsample</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">downsample</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
                <span class="n">mask</span><span class="p">[</span><span class="n">downsample</span><span class="p">::</span><span class="n">downsample</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="n">keep</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'slab'</span><span class="p">]</span><span class="o">.</span><span class="n">node_id</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

                <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">s</span><span class="p">)[</span><span class="n">mask</span> <span class="o">|</span> <span class="n">keep</span><span class="p">]</span>

            <span class="n">sp</span> <span class="o">=</span> <span class="n">cu</span><span class="o">.</span><span class="n">splines</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'POLY'</span><span class="p">)</span>

            <span class="n">coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">tn_coords</span><span class="p">[</span><span class="n">tn</span><span class="p">]</span> <span class="k">for</span> <span class="n">tn</span> <span class="ow">in</span> <span class="n">s</span><span class="p">])</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
            <span class="n">coords</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

            <span class="c1"># Add points</span>
            <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Add this weird fourth coordinate</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">coords</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

            <span class="c1"># Set point coordinates</span>
            <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'co'</span><span class="p">,</span> <span class="n">coords</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
            <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'weight'</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">use_radii</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="p">[</span><span class="n">tn_radii</span><span class="p">[</span><span class="n">tn</span><span class="p">]</span> <span class="k">for</span> <span class="n">tn</span> <span class="ow">in</span> <span class="n">s</span><span class="p">]</span>
                <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'radius'</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span> <span class="o">=</span> <span class="n">mat</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_dotprops</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">scale_vect</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create neuron branches."""</span>
        <span class="c1"># Generate uuid</span>
        <span class="n">object_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>

        <span class="n">mat_name</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">'M#</span><span class="si">{</span><span class="n">object_id</span><span class="si">}</span><span class="s1">'</span><span class="p">)[:</span><span class="mi">59</span><span class="p">]</span>
        <span class="n">mat</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mat_name</span><span class="p">,</span>
                                     <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mat_name</span><span class="p">))</span>

        <span class="n">cu</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">curves</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="s1">'dotprop'</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span><span class="si">}</span><span class="s2"> mesh"</span><span class="p">,</span> <span class="s1">'CURVE'</span><span class="p">)</span>
        <span class="n">ob</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s2">"#</span><span class="si">{</span><span class="n">object_id</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="s1">'neuron_name'</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span>
                                  <span class="n">cu</span><span class="p">)</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'DOTPROP'</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'navis_object'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="n">object_id</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">dimensions</span> <span class="o">=</span> <span class="s1">'3D'</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">fill_mode</span> <span class="o">=</span> <span class="s1">'FULL'</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">bevel_resolution</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">cu</span><span class="o">.</span><span class="n">bevel_depth</span> <span class="o">=</span> <span class="mf">0.007</span>

        <span class="c1"># Prepare lines - this is based on nat:::plot3d.dotprops</span>
        <span class="n">halfvect</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">vector</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">scale_vect</span><span class="p">)</span>
        <span class="n">starts</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">point</span><span class="p">)</span> <span class="o">-</span> <span class="n">halfvect</span><span class="p">)</span>
        <span class="n">ends</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">point</span><span class="p">)</span> <span class="o">+</span> <span class="n">halfvect</span><span class="p">)</span>

        <span class="n">halfvect</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>
        <span class="n">starts</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>
        <span class="n">ends</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>

        <span class="n">halfvect</span> <span class="o">=</span> <span class="n">halfvect</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>
        <span class="n">starts</span> <span class="o">=</span> <span class="n">starts</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>
        <span class="n">ends</span> <span class="o">=</span> <span class="n">ends</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

        <span class="n">segments</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">ends</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
            <span class="n">sp</span> <span class="o">=</span> <span class="n">cu</span><span class="o">.</span><span class="n">splines</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'POLY'</span><span class="p">)</span>

            <span class="c1"># Add points</span>
            <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># Add this weird fourth coordinate</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">s</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

            <span class="c1"># Set point coordinates</span>
            <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'co'</span><span class="p">,</span> <span class="n">coords</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>

        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span> <span class="o">=</span> <span class="n">mat</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_soma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create soma."""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">utils</span><span class="o">.</span><span class="n">make_iterable</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">soma</span><span class="p">):</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">node_id</span> <span class="o">==</span> <span class="n">s</span><span class="p">]</span>
            <span class="n">loc</span> <span class="o">=</span> <span class="n">s</span><span class="p">[[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>
            <span class="n">loc</span> <span class="o">=</span> <span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
            <span class="n">loc</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>
            <span class="n">loc</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

            <span class="n">rad</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">radius</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>

            <span class="n">mesh</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">meshes</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Soma of #</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1"> - mesh'</span><span class="p">)</span>
            <span class="n">soma_ob</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Soma of #</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">'</span><span class="p">,</span> <span class="n">mesh</span><span class="p">)</span>

            <span class="n">soma_ob</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># Construct the bmesh cube and assign it to the blender mesh.</span>
            <span class="n">bm</span> <span class="o">=</span> <span class="n">bmesh</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
            <span class="c1"># Blender 3.0 uses `radius` instead of `diameter`</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">bmesh</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">create_uvsphere</span><span class="p">(</span><span class="n">bm</span><span class="p">,</span> <span class="n">u_segments</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">v_segments</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">rad</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">bmesh</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">create_uvsphere</span><span class="p">(</span><span class="n">bm</span><span class="p">,</span> <span class="n">u_segments</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">v_segments</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">diameter</span><span class="o">=</span><span class="n">rad</span><span class="p">)</span>
            <span class="n">bm</span><span class="o">.</span><span class="n">to_mesh</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>
            <span class="n">bm</span><span class="o">.</span><span class="n">free</span><span class="p">()</span>

            <span class="n">mesh</span><span class="o">.</span><span class="n">polygons</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'use_smooth'</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">polygons</span><span class="p">))</span>

            <span class="n">soma_ob</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'Soma of #</span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">'</span>
            <span class="n">soma_ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'SOMA'</span>
            <span class="n">soma_ob</span><span class="p">[</span><span class="s1">'navis_object'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">soma_ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

            <span class="n">soma_ob</span><span class="o">.</span><span class="n">active_material</span> <span class="o">=</span> <span class="n">mat</span>

            <span class="c1"># Add the object into the scene.</span>
            <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">soma_ob</span><span class="p">)</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create connectors."""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">has_connectors</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">connectors</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
            <span class="n">con</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">connectors</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">connectors</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">t</span><span class="p">]</span>

            <span class="c1"># See if we have pre-defined names/colors for this</span>
            <span class="n">settings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cn_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span> <span class="s1">'color'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)})</span>

            <span class="k">if</span> <span class="n">con</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># Get &amp; scale coordinates and invert y</span>
            <span class="n">cn_coords</span> <span class="o">=</span> <span class="n">con</span><span class="p">[[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

            <span class="n">ob_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="si">}</span><span class="s1"> of </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">'</span>

            <span class="c1"># Only plot as lines if this is a TreeNeuron</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cn_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'display'</span><span class="p">,</span> <span class="s1">'lines'</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'lines'</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">TreeNeuron</span><span class="p">):</span>
                <span class="n">cn_coords</span> <span class="o">=</span> <span class="n">cn_coords</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
                <span class="n">cn_coords</span> <span class="o">*=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">)</span>
                <span class="n">cn_coords</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

                <span class="n">tn_coords</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'node_id'</span><span class="p">)</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">con</span><span class="o">.</span><span class="n">node_id</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
                                                             <span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
                <span class="n">tn_coords</span> <span class="o">=</span> <span class="n">tn_coords</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
                <span class="n">tn_coords</span> <span class="o">*=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scaling</span><span class="p">)</span>
                <span class="n">tn_coords</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

                <span class="c1"># Add 4th coordinate for blender</span>
                <span class="n">cn_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">cn_coords</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">con</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="n">tn_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">c_</span><span class="p">[</span><span class="n">tn_coords</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">con</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

                <span class="c1"># Combine cn and tn coords in pairs</span>
                <span class="c1"># This will have to be transposed to get pairs of cn and tn</span>
                <span class="c1"># (see below)</span>
                <span class="n">coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">cn_coords</span><span class="p">,</span> <span class="n">tn_coords</span><span class="p">])</span>
                <span class="n">cu</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">curves</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">ob_name</span> <span class="o">+</span> <span class="s1">' mesh'</span><span class="p">,</span> <span class="s1">'CURVE'</span><span class="p">)</span>
                <span class="n">ob</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">ob_name</span><span class="p">,</span> <span class="n">cu</span><span class="p">)</span>
                <span class="n">cu</span><span class="o">.</span><span class="n">dimensions</span> <span class="o">=</span> <span class="s1">'3D'</span>
                <span class="n">cu</span><span class="o">.</span><span class="n">fill_mode</span> <span class="o">=</span> <span class="s1">'FULL'</span>
                <span class="n">cu</span><span class="o">.</span><span class="n">bevel_resolution</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">cu</span><span class="o">.</span><span class="n">bevel_depth</span> <span class="o">=</span> <span class="mf">0.007</span>
                <span class="n">cu</span><span class="o">.</span><span class="n">resolution_u</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="k">for</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">coords</span><span class="p">:</span>
                    <span class="n">sp</span> <span class="o">=</span> <span class="n">cu</span><span class="o">.</span><span class="n">splines</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'POLY'</span><span class="p">)</span>

                    <span class="c1"># Add a second point</span>
                    <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

                    <span class="c1"># Move points</span>
                    <span class="n">sp</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'co'</span><span class="p">,</span> <span class="n">cn</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
                <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_scatter</span><span class="p">(</span><span class="n">cn_coords</span><span class="p">,</span>
                                          <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span>
                                          <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cn_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'size'</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">))</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ob_name</span>

            <span class="n">ob</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'CONNECTORS'</span>
            <span class="n">ob</span><span class="p">[</span><span class="s1">'navis_object'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">ob</span><span class="p">[</span><span class="s1">'cn_type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
            <span class="n">ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">show_name</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="n">mat_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">settings</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="si">}</span><span class="s1"> of #</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span>
            <span class="n">mat</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mat_name</span><span class="p">,</span>
                                         <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mat_name</span><span class="p">))</span>
            <span class="n">mat</span><span class="o">.</span><span class="n">diffuse_color</span> <span class="o">=</span> <span class="n">eval_color</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="s1">'color'</span><span class="p">],</span>
                                           <span class="n">color_range</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                           <span class="n">force_alpha</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span> <span class="o">=</span> <span class="n">mat</span>

        <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Create mesh from volume.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        volume :    core.Volume | dict</span>
<span class="sd">                    Must contain 'faces', 'vertices'</span>

<span class="sd">        """</span>
        <span class="n">mesh_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'mesh'</span><span class="p">))</span>

        <span class="n">verts</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># Convert to Blender space</span>
        <span class="n">verts</span> <span class="o">=</span> <span class="n">verts</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scaling</span>
        <span class="n">verts</span> <span class="o">=</span> <span class="n">verts</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">axes_order</span><span class="p">]</span>
        <span class="n">verts</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_translate</span>

        <span class="n">blender_verts</span> <span class="o">=</span> <span class="n">verts</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

        <span class="n">me</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">meshes</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mesh_name</span> <span class="o">+</span> <span class="s1">'_mesh'</span><span class="p">)</span>
        <span class="n">ob</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mesh_name</span><span class="p">,</span> <span class="n">me</span><span class="p">)</span>

        <span class="n">scn</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span>
        <span class="n">scn</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

        <span class="n">me</span><span class="o">.</span><span class="n">from_pydata</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">blender_verts</span><span class="p">),</span> <span class="p">[],</span> <span class="nb">list</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">faces</span><span class="p">))</span>
        <span class="n">me</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="n">me</span><span class="o">.</span><span class="n">polygons</span><span class="o">.</span><span class="n">foreach_set</span><span class="p">(</span><span class="s1">'use_smooth'</span><span class="p">,</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">me</span><span class="o">.</span><span class="n">polygons</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Select given neurons.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x :     list of neuron IDs | Neuron/List | pd Dataframe</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        [`navis.interfaces.blender.ObjectList`][] :  containing requested neurons</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; selection = Handler.select([123456, 7890])</span>
<span class="sd">        &gt;&gt;&gt; # Get only connectors</span>
<span class="sd">        &gt;&gt;&gt; cn = selection.connectors</span>
<span class="sd">        &gt;&gt;&gt; # Hide everything else</span>
<span class="sd">        &gt;&gt;&gt; cn.hide_others()</span>
<span class="sd">        &gt;&gt;&gt; # Change color of presynapses</span>
<span class="sd">        &gt;&gt;&gt; selection.presynapses.color(0, 1, 0)</span>

<span class="sd">        """</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">eval_id</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ids</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">'No ids found.'</span><span class="p">)</span>

        <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">'id'</span> <span class="ow">in</span> <span class="n">ob</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                    <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">handler</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Assign color to all neurons.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        r :     float</span>
<span class="sd">                Red value, range 0-1</span>
<span class="sd">        g :     float</span>
<span class="sd">                Green value, range 0-1</span>
<span class="sd">        b :     float</span>
<span class="sd">                Blue value, range 0-1</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This will only change color of neurons, if you want to change</span>
<span class="sd">        color of e.g. connectors, use:</span>

<span class="sd">        &gt;&gt;&gt; handler.connectors.color(r, g, b)</span>

<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">colorize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Randomly colorize ALL neurons.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This will only change color of neurons, if you want to change</span>
<span class="sd">        color of e.g. connectors, use:</span>

<span class="sd">        &gt;&gt;&gt; handler.connectors.colorize()</span>

<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">colorize</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change emit value."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">use_transparency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change transparency (True/False)."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">use_transparency</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change alpha (0-1)."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">alpha</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change bevel of ALL neurons.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        r :         float</span>
<span class="sd">                    New bevel radius</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This will only change bevel of neurons, if you want to change</span>
<span class="sd">        bevel of e.g. connectors, use:</span>

<span class="sd">        &gt;&gt;&gt; handler.connectors.bevel(.02)</span>

<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">bevel_depth</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Hide all neuron-related objects."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">unhide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Unide all neuron-related objects."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">unhide</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.add" class="doc doc-heading"> <code class="highlight language-python"><span class="n">add</span></code> <a href="#navis.interfaces.blender.Handler.add" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Add neuron(s) to scene.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>x</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        Objects to import into Blender.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> TreeNeuron | MeshNeuron | NeuronList | core.Volume</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>neurites</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        Plot neurites. TreeNeurons only.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>soma</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        Plot somas. TreeNeurons only.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>connectors</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        Plot connectors. Uses a defaults dictionary to set
        color/type. See Examples on how to change.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>redraw</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        If True, will redraw window after each neuron. This
        will slow down loading!
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>use_radii</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        If True, will use node radii. For TreeNeurons only.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>skip_existing</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        If True, will skip neurons that are already loaded.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>downsample</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        If integer &lt; 1, will downsample neurites upon import.
        Preserves branch point/roots. TreeNeurons only.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> False | int</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>collection</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>        Only for Blender &gt;2.8: add object(s) to given collection.
        If collection does not exist, will be created.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> str</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <p><span class="doc-section-title">Examples:</span></p> <p>Add one of the example neurons:</p> <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">blender</span><span class="o">.</span><span class="n">Handler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">example_neurons</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">connectors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div> <p>Change connector settings:</p> <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">cn_dict</span><span class="p">[</span><span class="s1">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'sphere'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">cn_dict</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'color'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">neurites</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">soma</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">connectors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">redraw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">use_radii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">collection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Add neuron(s) to scene.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x :             TreeNeuron | MeshNeuron | NeuronList | core.Volume</span>
<span class="sd">                    Objects to import into Blender.</span>
<span class="sd">    neurites :      bool, optional</span>
<span class="sd">                    Plot neurites. TreeNeurons only.</span>
<span class="sd">    soma :          bool, optional</span>
<span class="sd">                    Plot somas. TreeNeurons only.</span>
<span class="sd">    connectors :    bool, optional</span>
<span class="sd">                    Plot connectors. Uses a defaults dictionary to set</span>
<span class="sd">                    color/type. See Examples on how to change.</span>
<span class="sd">    redraw :        bool, optional</span>
<span class="sd">                    If True, will redraw window after each neuron. This</span>
<span class="sd">                    will slow down loading!</span>
<span class="sd">    use_radii :     bool, optional</span>
<span class="sd">                    If True, will use node radii. For TreeNeurons only.</span>
<span class="sd">    skip_existing : bool, optional</span>
<span class="sd">                    If True, will skip neurons that are already loaded.</span>
<span class="sd">    downsample :    False | int, optional</span>
<span class="sd">                    If integer &lt; 1, will downsample neurites upon import.</span>
<span class="sd">                    Preserves branch point/roots. TreeNeurons only.</span>
<span class="sd">    collection :    str, optional</span>
<span class="sd">                    Only for Blender &gt;2.8: add object(s) to given collection.</span>
<span class="sd">                    If collection does not exist, will be created.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Add one of the example neurons:</span>

<span class="sd">    &gt;&gt;&gt; h = navis.interfaces.blender.Handler()</span>
<span class="sd">    &gt;&gt;&gt; n = navis.example_neurons(1)</span>
<span class="sd">    &gt;&gt;&gt; h.add(n, connectors=True)</span>

<span class="sd">    Change connector settings:</span>

<span class="sd">    &gt;&gt;&gt; h.cn_dict['display'] = 'sphere'</span>
<span class="sd">    &gt;&gt;&gt; h.cn_dict[0]['color'] = (1, 1, 0)</span>

<span class="sd">    """</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">skip_existing</span><span class="p">:</span>
        <span class="n">exists</span> <span class="o">=</span> <span class="p">[</span><span class="n">ob</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">BaseNeuron</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">NeuronList</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">redraw</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'Set "redraw=False" to vastly speed up import!'</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">BaseNeuron</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
        <span class="n">wm</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">window_manager</span>
        <span class="n">wm</span><span class="o">.</span><span class="n">progress_begin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="c1"># Skip existing if applicable</span>
            <span class="k">if</span> <span class="n">skip_existing</span> <span class="ow">and</span> <span class="n">n</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">exists</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_neuron</span><span class="p">(</span><span class="n">n</span><span class="p">,</span>
                                <span class="n">neurites</span><span class="o">=</span><span class="n">neurites</span><span class="p">,</span>
                                <span class="n">soma</span><span class="o">=</span><span class="n">soma</span><span class="p">,</span>
                                <span class="n">connectors</span><span class="o">=</span><span class="n">connectors</span><span class="p">,</span>
                                <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span>
                                <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">,</span>
                                <span class="n">use_radii</span><span class="o">=</span><span class="n">use_radii</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">redraw</span><span class="p">:</span>
                <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">wm</span><span class="o">.</span><span class="n">redraw_timer</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">'DRAW_WIN_SWAP'</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">wm</span><span class="o">.</span><span class="n">progress_update</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">wm</span><span class="o">.</span><span class="n">progress_end</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">tm</span><span class="o">.</span><span class="n">Trimesh</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_create_volume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_create_scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">Dotprops</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_create_dotprops</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Unable add data type of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Import done in </span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">start</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">s'</span><span class="p">)</span>

    <span class="k">return</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.alpha" class="doc doc-heading"> <code class="highlight language-python"><span class="n">alpha</span></code> <a href="#navis.interfaces.blender.Handler.alpha" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change alpha (0-1).</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change alpha (0-1)."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">alpha</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.bevel" class="doc doc-heading"> <code class="highlight language-python"><span class="n">bevel</span></code> <a href="#navis.interfaces.blender.Handler.bevel" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change bevel of ALL neurons.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>r</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>    New bevel radius
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> </tbody> </table> <details class="note" open> <summary>Notes</summary> <p>This will only change bevel of neurons, if you want to change bevel of e.g. connectors, use:</p> <blockquote> <blockquote> <blockquote> <p>handler.connectors.bevel(.02)</p> </blockquote> </blockquote> </blockquote> </details> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change bevel of ALL neurons.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    r :         float</span>
<span class="sd">                New bevel radius</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    This will only change bevel of neurons, if you want to change</span>
<span class="sd">    bevel of e.g. connectors, use:</span>

<span class="sd">    &gt;&gt;&gt; handler.connectors.bevel(.02)</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">bevel_depth</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.clear" class="doc doc-heading"> <code class="highlight language-python"><span class="n">clear</span></code> <a href="#navis.interfaces.blender.Handler.clear" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Clear all neurons</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Clear all neurons """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.color" class="doc doc-heading"> <code class="highlight language-python"><span class="n">color</span></code> <a href="#navis.interfaces.blender.Handler.color" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Assign color to all neurons.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>r</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Red value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>g</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Green value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>b</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Blue value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> </tbody> </table> <details class="note" open> <summary>Notes</summary> <p>This will only change color of neurons, if you want to change color of e.g. connectors, use:</p> <blockquote> <blockquote> <blockquote> <p>handler.connectors.color(r, g, b)</p> </blockquote> </blockquote> </blockquote> </details> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Assign color to all neurons.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    r :     float</span>
<span class="sd">            Red value, range 0-1</span>
<span class="sd">    g :     float</span>
<span class="sd">            Green value, range 0-1</span>
<span class="sd">    b :     float</span>
<span class="sd">            Blue value, range 0-1</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    This will only change color of neurons, if you want to change</span>
<span class="sd">    color of e.g. connectors, use:</span>

<span class="sd">    &gt;&gt;&gt; handler.connectors.color(r, g, b)</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.colorize" class="doc doc-heading"> <code class="highlight language-python"><span class="n">colorize</span></code> <a href="#navis.interfaces.blender.Handler.colorize" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Randomly colorize ALL neurons.</p> <details class="note" open> <summary>Notes</summary> <p>This will only change color of neurons, if you want to change color of e.g. connectors, use:</p> <blockquote> <blockquote> <blockquote> <p>handler.connectors.colorize()</p> </blockquote> </blockquote> </blockquote> </details> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">colorize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Randomly colorize ALL neurons.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    This will only change color of neurons, if you want to change</span>
<span class="sd">    color of e.g. connectors, use:</span>

<span class="sd">    &gt;&gt;&gt; handler.connectors.colorize()</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">colorize</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.emit" class="doc doc-heading"> <code class="highlight language-python"><span class="n">emit</span></code> <a href="#navis.interfaces.blender.Handler.emit" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change emit value.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change emit value."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.hide" class="doc doc-heading"> <code class="highlight language-python"><span class="n">hide</span></code> <a href="#navis.interfaces.blender.Handler.hide" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Hide all neuron-related objects.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Hide all neuron-related objects."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.select" class="doc doc-heading"> <code class="highlight language-python"><span class="n">select</span></code> <a href="#navis.interfaces.blender.Handler.select" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Select given neurons.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>x</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> list of neuron IDs | Neuron/List | pd Dataframe</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class="doc-section-title">RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <span class="doc-returns-annotation"> <code>[`navis.interfaces.blender.ObjectList`][] : containing requested neurons</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> <p><span class="doc-section-title">Examples:</span></p> <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span> <span class="o">=</span> <span class="n">Handler</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="mi">123456</span><span class="p">,</span> <span class="mi">7890</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get only connectors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cn</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">connectors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Hide everything else</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cn</span><span class="o">.</span><span class="n">hide_others</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change color of presynapses</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span><span class="o">.</span><span class="n">presynapses</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Select given neurons.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x :     list of neuron IDs | Neuron/List | pd Dataframe</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    [`navis.interfaces.blender.ObjectList`][] :  containing requested neurons</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; selection = Handler.select([123456, 7890])</span>
<span class="sd">    &gt;&gt;&gt; # Get only connectors</span>
<span class="sd">    &gt;&gt;&gt; cn = selection.connectors</span>
<span class="sd">    &gt;&gt;&gt; # Hide everything else</span>
<span class="sd">    &gt;&gt;&gt; cn.hide_others()</span>
<span class="sd">    &gt;&gt;&gt; # Change color of presynapses</span>
<span class="sd">    &gt;&gt;&gt; selection.presynapses.color(0, 1, 0)</span>

<span class="sd">    """</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">eval_id</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">ids</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">'No ids found.'</span><span class="p">)</span>

    <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">'id'</span> <span class="ow">in</span> <span class="n">ob</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ob</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">handler</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.unhide" class="doc doc-heading"> <code class="highlight language-python"><span class="n">unhide</span></code> <a href="#navis.interfaces.blender.Handler.unhide" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Unide all neuron-related objects.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unhide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Unide all neuron-related objects."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">unhide</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.Handler.use_transparency" class="doc doc-heading"> <code class="highlight language-python"><span class="n">use_transparency</span></code> <a href="#navis.interfaces.blender.Handler.use_transparency" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change transparency (True/False).</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">use_transparency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change transparency (True/False)."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">neurons</span><span class="o">.</span><span class="n">use_transparency</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id="navis.interfaces.blender.ObjectList" class="doc doc-heading"> <code>navis.interfaces.blender.ObjectList</code> <a href="#navis.interfaces.blender.ObjectList" class="headerlink" title="Permanent link">#</a></h2> <div class="doc doc-contents first"> <p>Collection of Blender objects.</p> <details class="note" open> <summary>Notes</summary> <ol> <li>ObjectLists should normally be constructed via the handler (see <a class="autorefs autorefs-internal" href="#navis.interfaces.blender.Handler"><code>navis.interfaces.blender.Handler</code></a>)!</li> <li>List works with object NAMES to prevent Blender from crashing when trying to access neurons that do not exist anymore. This also means that changing names manually will compromise a object list.</li> <li>Accessing a neuron list's attributes (see below) return another <code>ObjectList</code> class which you can use to manipulate the new subselection.</li> </ol> </details> <table> <thead> <tr> <th><span class="doc-section-title">ATTRIBUTE</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.neurons">neurons</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing just neurons</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.connectors">connectors</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all connectors</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.soma">soma</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all somata</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.presynapses">presynapses</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all presynapses</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.postsynapses">postsynapses</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all postsynapses</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.gapjunctions">gapjunctions</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all gap junctions</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.abutting">abutting</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list containing all abutting connectors</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td><code><span title="navis.interfaces.blender.ObjectList.id">id</span></code></td> <td class="doc-attribute-details"> <div class="doc-md-description"> </div> <p> <span class="doc-attribute-annotation"> <b>TYPE:</b> <code>returns list of IDs</code> </span> </p> </td> </tr> </tbody> </table> <p><span class="doc-section-title">Examples:</span></p> <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># b3d module has to be import explicitly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">navis</span><span class="w"> </span><span class="kn">import</span> <span class="n">b3d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nl</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">example_neurons</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span> <span class="o">=</span> <span class="n">b3d</span><span class="o">.</span><span class="n">Handler</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Select only neurons on the right</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">right</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'annotation:uPN right'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># This can be nested to change e.g. color of all right presynases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">handler</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">'annotation:uPN right'</span><span class="p">)</span><span class="o">.</span><span class="n">presynapses</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ObjectList</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Collection of Blender objects.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    1.  ObjectLists should normally be constructed via the handler</span>
<span class="sd">        (see [`navis.interfaces.blender.Handler`][])!</span>
<span class="sd">    2.  List works with object NAMES to prevent Blender from crashing when</span>
<span class="sd">        trying to access neurons that do not exist anymore. This also means</span>
<span class="sd">        that changing names manually will compromise a object list.</span>
<span class="sd">    3.  Accessing a neuron list's attributes (see below) return another</span>
<span class="sd">        `ObjectList` class which you can use to manipulate the new</span>
<span class="sd">        subselection.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    neurons :       returns list containing just neurons</span>
<span class="sd">    connectors :    returns list containing all connectors</span>
<span class="sd">    soma :          returns list containing all somata</span>
<span class="sd">    presynapses :   returns list containing all presynapses</span>
<span class="sd">    postsynapses :  returns list containing all postsynapses</span>
<span class="sd">    gapjunctions :  returns list containing all gap junctions</span>
<span class="sd">    abutting :      returns list containing all abutting connectors</span>
<span class="sd">    id :            returns list of IDs</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; # b3d module has to be import explicitly</span>
<span class="sd">    &gt;&gt;&gt; from navis import b3d</span>
<span class="sd">    &gt;&gt;&gt; nl = navis.example_neurons()</span>
<span class="sd">    &gt;&gt;&gt; handler = b3d.Handler()</span>
<span class="sd">    &gt;&gt;&gt; handler.add(nl)</span>
<span class="sd">    &gt;&gt;&gt; # Select only neurons on the right</span>
<span class="sd">    &gt;&gt;&gt; right = handler.select('annotation:uPN right')</span>
<span class="sd">    &gt;&gt;&gt; # This can be nested to change e.g. color of all right presynases</span>
<span class="sd">    &gt;&gt;&gt; handler.select('annotation:uPN right').presynapses.color(0, 1, 0)</span>

<span class="sd">    """</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_names</span><span class="p">,</span> <span class="n">handler</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">object_names</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">object_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">object_names</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="o">=</span> <span class="n">object_names</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">handler</span> <span class="o">=</span> <span class="n">handler</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'neurons'</span><span class="p">,</span> <span class="s1">'neuron'</span><span class="p">,</span> <span class="s1">'neurites'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'NEURON'</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'connectors'</span><span class="p">,</span> <span class="s1">'connector'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'CONNECTORS'</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'soma'</span><span class="p">,</span> <span class="s1">'somas'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'SOMA'</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'presynapses'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'CONNECTORS'</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'cn_type'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'postsynapses'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'CONNECTORS'</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'cn_type'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'gapjunctions'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'CONNECTORS'</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'cn_type'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">'abutting'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'CONNECTORS'</span> <span class="ow">and</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'cn_type'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'id'</span><span class="p">,</span> <span class="s1">'ids'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">'id'</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">'Unknown attribute '</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">slice</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">handler</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handler</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">'Unable to index non-integers.'</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_repr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">],</span>
                                  <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'still_exists'</span><span class="p">]</span>
                                  <span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_repr</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to_add</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">to_add</span><span class="p">,</span> <span class="n">ObjectList</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">'Can only merge other object lists'</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">to_add</span><span class="o">.</span><span class="n">object_names</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ObjectList</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_names</span> <span class="o">+</span> <span class="n">to_add</span><span class="o">.</span><span class="n">object_names</span><span class="p">)),</span>
                          <span class="n">handler</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handler</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">objects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Objects in this list."""</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
                <span class="n">objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">objects</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_to_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection</span><span class="p">,</span> <span class="n">unlink_from_other</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span>
        <span class="k">elif</span> <span class="n">collection</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="n">collection</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>
            <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
                <span class="n">col</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">unlink_from_other</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
                    <span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">col2</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">collections</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">col2</span> <span class="o">==</span> <span class="n">col</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">col2</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
                        <span class="n">col2</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">ob</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unselect_others</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Select objects in 3D viewer</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        unselect_others :   bool, optional</span>
<span class="sd">                            If False, will not unselect other objects.</span>

<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">unselect_others</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Assign color to all objects in the list.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        r :     float</span>
<span class="sd">                Red value, range 0-1</span>
<span class="sd">        g :     float</span>
<span class="sd">                Green value, range 0-1</span>
<span class="sd">        b :     float</span>
<span class="sd">                Blue value, range 0-1</span>
<span class="sd">        a :     float</span>
<span class="sd">                Alpha value, range 0-1</span>

<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">diffuse_color</span> <span class="o">=</span> <span class="n">eval_color</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">),</span>
                                                          <span class="n">color_range</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                          <span class="n">force_alpha</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">colorize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">'hls'</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Assign colors across the color spectrum.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        groups :    dict, optional</span>
<span class="sd">                    A dictionary mapping either neuron ID (always str!) or</span>
<span class="sd">                    object name to a group (str). Neurons of the same group will</span>
<span class="sd">                    receive the same color.</span>
<span class="sd">        palette :   str</span>
<span class="sd">                    Name of a seaborn color palette.</span>

<span class="sd">        """</span>
        <span class="n">objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="n">palette</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">))</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">colors</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># Make sure keys are strings</span>
            <span class="n">groups</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

            <span class="c1"># Get unique groups &amp; create a color map</span>
            <span class="n">groups_uni</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">groups</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="n">palette</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups_uni</span><span class="p">))</span>
            <span class="n">groups_cmap</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">groups_uni</span><span class="p">,</span> <span class="n">colors</span><span class="p">))</span>

            <span class="c1"># Make the actual color map</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
                <span class="c1"># Get the group either by name or ID</span>
                <span class="n">g</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">groups</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ob</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">),</span> <span class="kc">None</span><span class="p">))</span>
                <span class="n">cmap</span><span class="p">[</span><span class="n">ob</span><span class="p">]</span> <span class="o">=</span> <span class="n">groups_cmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mf">.1</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'`groups` must be either None or dict, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">diffuse_color</span> <span class="o">=</span> <span class="n">eval_color</span><span class="p">(</span><span class="n">cmap</span><span class="p">[</span><span class="n">ob</span><span class="p">],</span>
                                                              <span class="n">color_range</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                              <span class="n">force_alpha</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">BaseException</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Error changing color of object "</span><span class="si">{</span><span class="n">ob</span><span class="si">}</span><span class="s1">"'</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change emit value."""</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">emit</span> <span class="o">=</span> <span class="n">e</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">use_transparency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change transparency (True/False)."""</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">use_transparency</span> <span class="o">=</span> <span class="n">t</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change alpha (0-1)."""</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">a</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Change bevel radius of objects.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        r :         float</span>
<span class="sd">                    New bevel radius.</span>

<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">'CURVE'</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">bevel_depth</span> <span class="o">=</span> <span class="n">r</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">render</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Hide objects."""</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">viewport</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">hide_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">render</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">hide_render</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">unhide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">render</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Unhide objects."""</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">viewport</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">hide_set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">render</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">hide_render</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">hide_others</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Hide everything BUT these objects."""</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">hide</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ob</span><span class="o">.</span><span class="n">hide</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Delete neurons in the selection."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">unselect_others</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id="navis.interfaces.blender.ObjectList.objects" class="doc doc-heading"> <code class="highlight language-python"><span class="n">objects</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href="#navis.interfaces.blender.ObjectList.objects" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Objects in this list.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.alpha" class="doc doc-heading"> <code class="highlight language-python"><span class="n">alpha</span></code> <a href="#navis.interfaces.blender.ObjectList.alpha" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change alpha (0-1).</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change alpha (0-1)."""</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">a</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.bevel" class="doc doc-heading"> <code class="highlight language-python"><span class="n">bevel</span></code> <a href="#navis.interfaces.blender.ObjectList.bevel" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change bevel radius of objects.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>r</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>    New bevel radius.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change bevel radius of objects.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    r :         float</span>
<span class="sd">                New bevel radius.</span>

<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">'CURVE'</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">bevel_depth</span> <span class="o">=</span> <span class="n">r</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.color" class="doc doc-heading"> <code class="highlight language-python"><span class="n">color</span></code> <a href="#navis.interfaces.blender.ObjectList.color" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Assign color to all objects in the list.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>r</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Red value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>g</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Green value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>b</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Blue value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>a</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>Alpha value, range 0-1
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> float</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>1</code> </span> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Assign color to all objects in the list.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    r :     float</span>
<span class="sd">            Red value, range 0-1</span>
<span class="sd">    g :     float</span>
<span class="sd">            Green value, range 0-1</span>
<span class="sd">    b :     float</span>
<span class="sd">            Blue value, range 0-1</span>
<span class="sd">    a :     float</span>
<span class="sd">            Alpha value, range 0-1</span>

<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">diffuse_color</span> <span class="o">=</span> <span class="n">eval_color</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">),</span>
                                                      <span class="n">color_range</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                      <span class="n">force_alpha</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.colorize" class="doc doc-heading"> <code class="highlight language-python"><span class="n">colorize</span></code> <a href="#navis.interfaces.blender.ObjectList.colorize" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Assign colors across the color spectrum.</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>groups</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>    A dictionary mapping either neuron ID (always str!) or
    object name to a group (str). Neurons of the same group will
    receive the same color.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> dict</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class="doc-section-item"> <td> <code>palette</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>    Name of a seaborn color palette.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> str</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>'hls'</code> </span> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">colorize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">'hls'</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Assign colors across the color spectrum.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    groups :    dict, optional</span>
<span class="sd">                A dictionary mapping either neuron ID (always str!) or</span>
<span class="sd">                object name to a group (str). Neurons of the same group will</span>
<span class="sd">                receive the same color.</span>
<span class="sd">    palette :   str</span>
<span class="sd">                Name of a seaborn color palette.</span>

<span class="sd">    """</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="n">palette</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">))</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">colors</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># Make sure keys are strings</span>
        <span class="n">groups</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

        <span class="c1"># Get unique groups &amp; create a color map</span>
        <span class="n">groups_uni</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">groups</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="n">palette</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups_uni</span><span class="p">))</span>
        <span class="n">groups_cmap</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">groups_uni</span><span class="p">,</span> <span class="n">colors</span><span class="p">))</span>

        <span class="c1"># Make the actual color map</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="c1"># Get the group either by name or ID</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ob</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">groups</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ob</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'id'</span><span class="p">),</span> <span class="kc">None</span><span class="p">))</span>
            <span class="n">cmap</span><span class="p">[</span><span class="n">ob</span><span class="p">]</span> <span class="o">=</span> <span class="n">groups_cmap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="mf">.1</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mf">.1</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'`groups` must be either None or dict, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">diffuse_color</span> <span class="o">=</span> <span class="n">eval_color</span><span class="p">(</span><span class="n">cmap</span><span class="p">[</span><span class="n">ob</span><span class="p">],</span>
                                                          <span class="n">color_range</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                          <span class="n">force_alpha</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">BaseException</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Error changing color of object "</span><span class="si">{</span><span class="n">ob</span><span class="si">}</span><span class="s1">"'</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.delete" class="doc doc-heading"> <code class="highlight language-python"><span class="n">delete</span></code> <a href="#navis.interfaces.blender.ObjectList.delete" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Delete neurons in the selection.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Delete neurons in the selection."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">unselect_others</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">bpy</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.emit" class="doc doc-heading"> <code class="highlight language-python"><span class="n">emit</span></code> <a href="#navis.interfaces.blender.ObjectList.emit" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change emit value.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change emit value."""</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">emit</span> <span class="o">=</span> <span class="n">e</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.hide" class="doc doc-heading"> <code class="highlight language-python"><span class="n">hide</span></code> <a href="#navis.interfaces.blender.ObjectList.hide" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Hide objects.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">render</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Hide objects."""</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">viewport</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">hide_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">render</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">hide_render</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.hide_others" class="doc doc-heading"> <code class="highlight language-python"><span class="n">hide_others</span></code> <a href="#navis.interfaces.blender.ObjectList.hide_others" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Hide everything BUT these objects.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">hide_others</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Hide everything BUT these objects."""</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">hide</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">hide</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.select" class="doc doc-heading"> <code class="highlight language-python"><span class="n">select</span></code> <a href="#navis.interfaces.blender.ObjectList.select" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Select objects in 3D viewer</p> <table> <thead> <tr> <th><span class="doc-section-title">PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class="doc-section-item"> <td> <code>unselect_others</code> </td> <td class="doc-param-details"> <div class="doc-md-description"> <div class="highlight"><pre><span></span><code>            If False, will not unselect other objects.
</code></pre></div> </div> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code> bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unselect_others</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Select objects in 3D viewer</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    unselect_others :   bool, optional</span>
<span class="sd">                        If False, will not unselect other objects.</span>

<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ob</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_names</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">unselect_others</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">select_set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.unhide" class="doc doc-heading"> <code class="highlight language-python"><span class="n">unhide</span></code> <a href="#navis.interfaces.blender.ObjectList.unhide" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Unhide objects.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unhide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">viewport</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">render</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Unhide objects."""</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">viewport</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">hide_set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">render</span><span class="p">:</span>
            <span class="n">ob</span><span class="o">.</span><span class="n">hide_render</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id="navis.interfaces.blender.ObjectList.use_transparency" class="doc doc-heading"> <code class="highlight language-python"><span class="n">use_transparency</span></code> <a href="#navis.interfaces.blender.ObjectList.use_transparency" class="headerlink" title="Permanent link">#</a></h3> <div class="doc doc-contents "> <p>Change transparency (True/False).</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">use_transparency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Change transparency (True/False)."""</span>
    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="n">ob</span><span class="o">.</span><span class="n">active_material</span><span class="o">.</span><span class="n">use_transparency</span> <span class="o">=</span> <span class="n">t</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id="navis.interfaces.blender.calc_sphere" class="doc doc-heading"> <code class="highlight language-python"><span class="n">navis</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">blender</span><span class="o">.</span><span class="n">calc_sphere</span></code> <a href="#navis.interfaces.blender.calc_sphere" class="headerlink" title="Permanent link">#</a></h2> <div class="doc doc-contents first"> <p>Calculate vertices and faces for a sphere.</p> <details class="quote"> <summary>Source code in <code>navis/interfaces/blender.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calc_sphere</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">nrPolar</span><span class="p">,</span> <span class="n">nrAzimuthal</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Calculate vertices and faces for a sphere."""</span>
    <span class="n">dPolar</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="p">(</span><span class="n">nrPolar</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">dAzimuthal</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="p">(</span><span class="n">nrAzimuthal</span><span class="p">)</span>

    <span class="c1"># 1/2: vertices</span>
    <span class="n">verts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">currV</span> <span class="o">=</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">Vector</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">radius</span><span class="p">))</span>        <span class="c1"># top vertex</span>
    <span class="n">verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">currV</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">iPolar</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">nrPolar</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>                <span class="c1"># regular vertices</span>
        <span class="n">currPolar</span> <span class="o">=</span> <span class="n">dPolar</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">iPolar</span><span class="p">)</span>

        <span class="n">currCosP</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">currPolar</span><span class="p">)</span>
        <span class="n">currSinP</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">currPolar</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">iAzimuthal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrAzimuthal</span><span class="p">):</span>
            <span class="n">currAzimuthal</span> <span class="o">=</span> <span class="n">dAzimuthal</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">iAzimuthal</span><span class="p">)</span>

            <span class="n">currCosA</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">currAzimuthal</span><span class="p">)</span>
            <span class="n">currSinA</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">currAzimuthal</span><span class="p">)</span>

            <span class="n">currV</span> <span class="o">=</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">Vector</span><span class="p">((</span><span class="n">currSinP</span> <span class="o">*</span> <span class="n">currCosA</span><span class="p">,</span>
                                      <span class="n">currSinP</span> <span class="o">*</span> <span class="n">currSinA</span><span class="p">,</span>
                                      <span class="n">currCosP</span><span class="p">))</span> <span class="o">*</span> <span class="n">radius</span>
            <span class="n">verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">currV</span><span class="p">)</span>
    <span class="n">currV</span> <span class="o">=</span> <span class="n">mathutils</span><span class="o">.</span><span class="n">Vector</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span> <span class="n">radius</span><span class="p">))</span>        <span class="c1"># bottom vertex</span>
    <span class="n">verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">currV</span><span class="p">)</span>

    <span class="c1"># 2/2: faces</span>
    <span class="n">faces</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">iAzimuthal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrAzimuthal</span><span class="p">):</span>                <span class="c1"># top faces</span>
        <span class="n">iNextAzimuthal</span> <span class="o">=</span> <span class="n">iAzimuthal</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">iNextAzimuthal</span> <span class="o">&gt;=</span> <span class="n">nrAzimuthal</span><span class="p">:</span>
            <span class="n">iNextAzimuthal</span> <span class="o">-=</span> <span class="n">nrAzimuthal</span>
        <span class="n">faces</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">iAzimuthal</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">iNextAzimuthal</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">iPolar</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrPolar</span> <span class="o">-</span> <span class="mi">3</span><span class="p">):</span>                    <span class="c1"># regular faces</span>
        <span class="n">iAzimuthalStart</span> <span class="o">=</span> <span class="n">iPolar</span> <span class="o">*</span> <span class="n">nrAzimuthal</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">iAzimuthal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrAzimuthal</span><span class="p">):</span>
            <span class="n">iNextAzimuthal</span> <span class="o">=</span> <span class="n">iAzimuthal</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">iNextAzimuthal</span> <span class="o">&gt;=</span> <span class="n">nrAzimuthal</span><span class="p">:</span>
                <span class="n">iNextAzimuthal</span> <span class="o">-=</span> <span class="n">nrAzimuthal</span>
            <span class="n">faces</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">iAzimuthalStart</span> <span class="o">+</span> <span class="n">iAzimuthal</span><span class="p">,</span>
                          <span class="n">iAzimuthalStart</span> <span class="o">+</span> <span class="n">iAzimuthal</span> <span class="o">+</span> <span class="n">nrAzimuthal</span><span class="p">,</span>
                          <span class="n">iAzimuthalStart</span> <span class="o">+</span> <span class="n">iNextAzimuthal</span> <span class="o">+</span> <span class="n">nrAzimuthal</span><span class="p">,</span>
                          <span class="n">iAzimuthalStart</span> <span class="o">+</span> <span class="n">iNextAzimuthal</span><span class="p">])</span>

    <span class="n">iLast</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">verts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">iAzimuthalStart</span> <span class="o">=</span> <span class="n">iLast</span> <span class="o">-</span> <span class="n">nrAzimuthal</span>
    <span class="k">for</span> <span class="n">iAzimuthal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrAzimuthal</span><span class="p">):</span>                <span class="c1"># bottom faces</span>
        <span class="n">iNextAzimuthal</span> <span class="o">=</span> <span class="n">iAzimuthal</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">iNextAzimuthal</span> <span class="o">&gt;=</span> <span class="n">nrAzimuthal</span><span class="p">:</span>
            <span class="n">iNextAzimuthal</span> <span class="o">-=</span> <span class="n">nrAzimuthal</span>
        <span class="n">faces</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">iAzimuthalStart</span> <span class="o">+</span> <span class="n">iAzimuthal</span><span class="p">,</span>
                      <span class="n">iLast</span><span class="p">,</span>
                      <span class="n">iAzimuthalStart</span> <span class="o">+</span> <span class="n">iNextAzimuthal</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">verts</span><span class="p">),</span> <span class="n">faces</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id="navis.interfaces.blender.eval_color" class="doc doc-heading"> <code class="highlight language-python"><span class="n">navis</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">blender</span><span class="o">.</span><span class="n">eval_color</span></code> <a href="#navis.interfaces.blender.eval_color" class="headerlink" title="Permanent link">#</a></h2> <div class="doc doc-contents first"> <p>Evaluate colors and return tuples.</p> <details class="quote"> <summary>Source code in <code>navis/plotting/colors.py</code></summary> <div class="highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">eval_color</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">color_range</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">force_alpha</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Evaluate colors and return tuples."""</span>
    <span class="k">if</span> <span class="n">color_range</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">255</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'"color_range" must be 1 or 255'</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="c1"># Check if named color</span>
        <span class="k">if</span> <span class="n">mcl</span><span class="o">.</span><span class="n">is_color_like</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">mcl</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="c1"># Assume it's a matplotlib color map</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Unable to interpret color "</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">"'</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">BaseException</span><span class="p">:</span>
                <span class="k">raise</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">eval_color</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color_range</span><span class="o">=</span><span class="n">color_range</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="c1"># If is this is not a list of RGB values:</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]):</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">eval_color</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">color_range</span><span class="o">=</span><span class="n">color_range</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
        <span class="c1"># If this is a single RGB color:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="c1"># If is this is not a list of RGB values:</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]):</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">eval_color</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">color_range</span><span class="o">=</span><span class="n">color_range</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
        <span class="c1"># If this is a single RGB color:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Unable to interpret color of type "</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s1">"'</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">mcl</span><span class="o">.</span><span class="n">Colormap</span><span class="p">):</span>
        <span class="c1"># Check if we need to convert</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">v</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">c</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span> <span class="ow">and</span> <span class="n">color_range</span> <span class="o">==</span> <span class="mi">255</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="n">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)))</span>
        <span class="k">elif</span> <span class="nb">any</span><span class="p">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">c</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span> <span class="ow">and</span> <span class="n">color_range</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">))</span>

        <span class="n">c</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">force_alpha</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">c</span>
</code></pre></div></td></tr></tbody></table></div> </details> </div> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.tabs.link", "content.code.annotate", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script> <script src="../../../../assets/_markdown_exec_pyodide.js"></script> <script src="../../../../javascripts/katex.js"></script> <script src="../../../../assets/external/unpkg.com/katex@0/dist/katex.min.js"></script> <script src="../../../../assets/external/unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script> <script src="../../../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>  <script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>