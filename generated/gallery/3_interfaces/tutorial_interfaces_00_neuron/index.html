<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Python library for analysis of neuroanatomical data."><link href="../../2_morpho/tutorial_morpho_01_analyze/" rel="prev"><link href="../tutorial_interfaces_01_neuron2/" rel="next"><link rel="icon" href="../../../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>NEURON simulator - navis</title><link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css"><link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css"><link rel="stylesheet" href="../../../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../../../../assets/_markdown_exec_pyodide.css"><link rel="stylesheet" href="../../../../assets/_mkdocstrings.css"><link rel="stylesheet" href="../../../../stylesheets/extra.css"><link rel="stylesheet" href="../../../../assets/external/unpkg.com/katex@0/dist/katex.min.css"><link rel="stylesheet" href="../../../../sg_gallery.css"><link rel="stylesheet" href="../../../../sg_gallery-rendered-html.css"><link rel="stylesheet" href="../../../../sg_gallery-binder.css"><link rel="stylesheet" href="../../../../sg_gallery-dataframe.css"><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#neuron-simulator" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Header"> <a href="../../../.." title="navis" class="md-header__button md-logo" aria-label="navis" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> navis </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> NEURON simulator </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M296.5 291.1C321 265.2 336 230.4 336 192c0-79.5-64.5-144-144-144S48 112.5 48 192c0 38.4 15 73.2 39.5 99.1 21.3 22.4 44.9 54 53.3 92.9h102.4c8.4-39 32-70.5 53.3-92.9m34.8 33C307.7 349 288 379.4 288 413.7V432c0 44.2-35.8 80-80 80h-32c-44.2 0-80-35.8-80-80v-18.3c0-34.3-19.7-64.7-43.3-89.6C20 289.7 0 243.2 0 192 0 86 86 0 192 0s192 86 192 192c0 51.2-20 97.7-52.7 132.1M144 184c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6 39.4-88 88-88 13.3 0 24 10.7 24 24s-10.7 24-24 24c-22.1 0-40 17.9-40 40"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="pink" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M292.9 384c7.3-22.3 21.9-42.5 38.4-59.9C364 289.7 384 243.2 384 192 384 86 298 0 192 0S0 86 0 192c0 51.2 20 97.7 52.7 132.1 16.5 17.4 31.2 37.6 38.4 59.9h201.7zm-4.9 48H96v16c0 44.2 35.8 80 80 80h32c44.2 0 80-35.8 80-80zM184 112c-39.8 0-72 32.2-72 72 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3 53.7-120 120-120 13.3 0 24 10.7 24 24s-10.7 24-24 24"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="Search"> <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/navis-org/navis" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> navis-org/navis </div> </a> </div> </nav> <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a href="../../../.." class="md-tabs__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg> Home </a> </li> <li class="md-tabs__item"> <a href="../../../../installation/" class="md-tabs__link"> Installation </a> </li> <li class="md-tabs__item"> <a href="../../../../quickstart/" class="md-tabs__link"> Quickstart </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href="../../" class="md-tabs__link"> Tutorials </a> </li> <li class="md-tabs__item"> <a href="../../../../ecosystem/" class="md-tabs__link"> <span style="color:rgb(250,175,3)">NAVis</span> &amp; Friends </a> </li> <li class="md-tabs__item"> <a href="../../../../publications/" class="md-tabs__link"> Publications </a> </li> <li class="md-tabs__item"> <a href="../../../../changelog/" class="md-tabs__link"> Changelog </a> </li> <li class="md-tabs__item"> <a href="../../../../api/" class="md-tabs__link"> API Documentation </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../.." title="navis" class="md-nav__button md-logo" aria-label="navis" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> navis </label> <div class="md-nav__source"> <a href="https://github.com/navis-org/navis" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> navis-org/navis </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../.." class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item"> <a href="../../../../installation/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.8 3.8 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.8 3.8 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"></path></svg> <span class="md-ellipsis"> Installation </span> </a> </li> <li class="md-nav__item"> <a href="../../../../quickstart/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39S16.66.269 11 5.93c-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.55.56 1.37.74 2.12.46A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61m-7.07 7.07c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83s-2.05.78-2.83 0m-5.66 7.07-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76-1.42-1.41L2 20.59zm0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"></path></svg> <span class="md-ellipsis"> Quickstart </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked> <div class="md-nav__link md-nav__container"> <a href="../../" class="md-nav__link "> <span class="md-ellipsis"> Tutorials </span> </a> <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0"> <span class="md-ellipsis"> General Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> General Tutorials </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../tutorial_basic_00_basics/" class="md-nav__link"> <span class="md-ellipsis"> The Basics </span> </a> </li> <li class="md-nav__item"> <a href="../../tutorial_basic_01_neurons/" class="md-nav__link"> <span class="md-ellipsis"> Neuron Types </span> </a> </li> <li class="md-nav__item"> <a href="../../tutorial_basic_02_neuronlists/" class="md-nav__link"> <span class="md-ellipsis"> Lists of Neurons </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0"> <span class="md-ellipsis"> Import / Export </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> Import / Export </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../0_io/tutorial_io_00_skeletons/" class="md-nav__link"> <span class="md-ellipsis"> Skeletons </span> </a> </li> <li class="md-nav__item"> <a href="../../0_io/tutorial_io_01_meshes/" class="md-nav__link"> <span class="md-ellipsis"> Meshes </span> </a> </li> <li class="md-nav__item"> <a href="../../0_io/tutorial_io_02_dotprops/" class="md-nav__link"> <span class="md-ellipsis"> Dotprops </span> </a> </li> <li class="md-nav__item"> <a href="../../0_io/tutorial_io_04_pickle/" class="md-nav__link"> <span class="md-ellipsis"> Pickling </span> </a> </li> <li class="md-nav__item"> <a href="../../0_io/zzz_tutorial_io_05_skeletonize/" class="md-nav__link"> <span class="md-ellipsis"> Skeletons from light-level data </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0"> <span class="md-ellipsis"> Plotting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> Plotting </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_00_intro/" class="md-nav__link"> <span class="md-ellipsis"> Plotting Overview </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_01_colors/" class="md-nav__link"> <span class="md-ellipsis"> Coloring </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_02_1d/" class="md-nav__link"> <span class="md-ellipsis"> Neuron "Barcodes" </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_03_dend/" class="md-nav__link"> <span class="md-ellipsis"> Neuron Topology </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_04_skeletons/" class="md-nav__link"> <span class="md-ellipsis"> Fine-tuning Skeletons </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_05_depth/" class="md-nav__link"> <span class="md-ellipsis"> Depth-coloring </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_06_cortex/" class="md-nav__link"> <span class="md-ellipsis"> Cortical Neurons </span> </a> </li> <li class="md-nav__item"> <a href="../../1_plotting/tutorial_plotting_07_xkcd/" class="md-nav__link"> <span class="md-ellipsis"> XKCD Style </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0"> <span class="md-ellipsis"> Morphology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> Morphology </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../2_morpho/tutorial_morpho_00_manipulate/" class="md-nav__link"> <span class="md-ellipsis"> Manipulate Morphology </span> </a> </li> <li class="md-nav__item"> <a href="../../2_morpho/tutorial_morpho_01_analyze/" class="md-nav__link"> <span class="md-ellipsis"> Analyzing Neuron Morphology </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" checked> <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0"> <span class="md-ellipsis"> Interfaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_4_6"> <span class="md-nav__icon md-icon"></span> Interfaces </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> NEURON simulator </span> <span class="md-nav__icon md-icon"></span> </label> <a href="./" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> NEURON simulator </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#compartment-models" class="md-nav__link"> <span class="md-ellipsis"> Compartment models </span> </a> </li> <li class="md-nav__item"> <a href="#point-networks" class="md-nav__link"> <span class="md-ellipsis"> Point Networks </span> </a> </li> <li class="md-nav__item"> <a href="#links" class="md-nav__link"> <span class="md-ellipsis"> Links </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../tutorial_interfaces_01_neuron2/" class="md-nav__link"> <span class="md-ellipsis"> Visualize NEURON model </span> </a> </li> <li class="md-nav__item"> <a href="../tutorial_interfaces_02_blender/" class="md-nav__link"> <span class="md-ellipsis"> Blender 3D </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7"> <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0"> <span class="md-ellipsis"> Remote Data Sources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_7"> <span class="md-nav__icon md-icon"></span> Remote Data Sources </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../4_remote/tutorial_remote_00_neuprint/" class="md-nav__link"> <span class="md-ellipsis"> neuPrint </span> </a> </li> <li class="md-nav__item"> <a href="../../4_remote/tutorial_remote_01_cloudvolume/" class="md-nav__link"> <span class="md-ellipsis"> Neuroglancer &amp; CloudVolume </span> </a> </li> <li class="md-nav__item"> <a href="../../4_remote/tutorial_remote_02_microns/" class="md-nav__link"> <span class="md-ellipsis"> The MICrONS Datasets </span> </a> </li> <li class="md-nav__item"> <a href="../../4_remote/tutorial_remote_03_insect_db/" class="md-nav__link"> <span class="md-ellipsis"> Insect Brain DB </span> </a> </li> <li class="md-nav__item"> <a href="../../4_remote/tutorial_remote_04_h01/" class="md-nav__link"> <span class="md-ellipsis"> H01 Dataset </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8"> <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0"> <span class="md-ellipsis"> NBLAST </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_8"> <span class="md-nav__icon md-icon"></span> NBLAST </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../5_nblast/tutorial_nblast_00_intro/" class="md-nav__link"> <span class="md-ellipsis"> NBLAST </span> </a> </li> <li class="md-nav__item"> <a href="../../5_nblast/tutorial_nblast_03_smat/" class="md-nav__link"> <span class="md-ellipsis"> Custom score matrices </span> </a> </li> <li class="md-nav__item"> <a href="../../5_nblast/zzz_tutorial_nblast_01_flycircuit/" class="md-nav__link"> <span class="md-ellipsis"> NBLAST against FlyCircuit </span> </a> </li> <li class="md-nav__item"> <a href="../../5_nblast/zzz_tutorial_nblast_02_hemibrain/" class="md-nav__link"> <span class="md-ellipsis"> NBLAST using light-level data </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9"> <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0"> <span class="md-ellipsis"> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_9"> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../6_misc/tutorial_misc_00_multiprocess/" class="md-nav__link"> <span class="md-ellipsis"> Multiprocessing </span> </a> </li> <li class="md-nav__item"> <a href="../../6_misc/tutorial_misc_01_transforms/" class="md-nav__link"> <span class="md-ellipsis"> Transformations </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../ecosystem/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53z"></path></svg> <span class="md-ellipsis"> <span style="color:rgb(250,175,3)">NAVis</span> &amp; Friends </span> </a> </li> <li class="md-nav__item"> <a href="../../../../publications/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"></path></svg> <span class="md-ellipsis"> Publications </span> </a> </li> <li class="md-nav__item"> <a href="../../../../changelog/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.803.179Q8.76.171 7.72.38C5.639.797 3.974 1.828 2.77 3.445 1.232 5.515.367 8.072.049 11.492c-.125 1.353.008 2.711.181 4.216a9.97 9.97 0 0 0 2.144 5.214c.933 1.157 2.004 1.917 3.272 2.324a12 12 0 0 0 3.336.574 6 6 0 0 0 .795-.034l.416-.041a93 93 0 0 0 1.721-.186 21.4 21.4 0 0 0 7.393-2.257c2.007-1.048 3.41-2.594 4.17-4.597.354-.93.523-1.713.523-2.445a4.6 4.6 0 0 0-.064-.762c-.405-2.379-1.235-4.428-2.555-6.264-1.634-2.276-3.288-3.878-5.202-5.045C13.993.86 11.89.193 9.803.18Zm-.439 1.064q1.154-.032 2.376.237h-.001c2.73.597 5.137 2.002 7.154 4.173 2.288 2.46 3.591 5.045 3.988 7.899.071.528-.013 1.114-.096 1.622-.388 2.327-1.663 4.063-3.786 5.16a21 21 0 0 1-7.166 2.182c-.558.066-1.12.123-1.757.187l-.088.01a6.8 6.8 0 0 1-1.658-.03c-.69-.098-1.472-.21-2.224-.389-1.767-.42-3.069-1.622-3.978-3.658-.684-1.538-1.038-3.245-1.081-5.233a17.9 17.9 0 0 1 1.149-6.798c.62-1.641 1.517-3.453 3.462-4.418a8.75 8.75 0 0 1 3.706-.944m1.108 1.47a7.8 7.8 0 0 0-2.24.41c-1.6.525-2.718 1.304-3.523 2.438-1.499 2.118-2.275 4.58-2.31 7.325a10.1 10.1 0 0 0 .803 4.388c1.081 2.569 3.053 4.064 5.707 4.326 2.796.27 5.543-.381 8.178-1.937a8.1 8.1 0 0 0 2.772-2.624 7.1 7.1 0 0 0 1.168-3.86c0-2.162-1.015-4.47-3.049-6.862a6.4 6.4 0 0 0-.704-.707c-2.333-2.006-4.567-2.966-6.802-2.898zm.099 1.035c1.492-.022 3.015.475 4.672 1.508 1.783 1.117 3.161 2.763 4.091 4.909.887 2.02.905 3.938.058 5.696a6.8 6.8 0 0 1-2.907 2.988c-2.253 1.232-4.315 1.776-6.458 1.713h-.022c-1.55.06-2.89-.32-4.098-1.163-.7-.488-1.241-1.202-1.655-2.183a10.9 10.9 0 0 1-.872-4.273A12.7 12.7 0 0 1 4.404 8.09a12 12 0 0 1 .874-1.622l.163-.27c.67-1.108 1.725-1.639 3.103-2.099a6.8 6.8 0 0 1 2.027-.35zm.03 1.62c-1.18.037-2.28.465-3.289 1.283-1.395 1.13-2.23 2.72-2.63 4.993a7.24 7.24 0 0 0 .676 4.613c1.062 2.054 2.8 3.11 5.026 3.05h.008c2.958-.155 5.11-1.249 6.573-3.347a5.6 5.6 0 0 0 1.06-3.245 5.8 5.8 0 0 0-.242-1.639c-.72-2.435-2.161-4.145-4.29-5.085q-1.514-.667-2.892-.624Zm.312 1.064c.77.008 1.547.191 2.35.55 1.862.833 3.073 2.332 3.598 4.462.526 2.13-.27 4.205-2.066 5.423-1.479.999-2.93 1.447-4.438 1.367h-.04c-1.004.08-1.994-.226-2.943-.91a3.67 3.67 0 0 1-1.29-1.72 7.6 7.6 0 0 1-.514-2.727 8.5 8.5 0 0 1 .747-3.38c.676-1.556 1.724-2.503 3.215-2.893q.69-.18 1.38-.172zM9.455 8.758v6.882h1.155v-1.908l1.68 1.908h1.462l-2.273-2.5 1.871-1.958h-1.509l-1.231 1.337V8.758Z"></path></svg> <span class="md-ellipsis"> Changelog </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8"> <div class="md-nav__link md-nav__container"> <a href="../../../../api/" class="md-nav__link "> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"></path></svg> <span class="md-ellipsis"> API Documentation </span> </a> <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8"> <span class="md-nav__icon md-icon"></span> API Documentation </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1"> <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0"> <span class="md-ellipsis"> Code References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1"> <span class="md-nav__icon md-icon"></span> Code References </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/" class="md-nav__link "> <span class="md-ellipsis"> navis </span> </a> <label class="md-nav__link " for="__nav_8_1_1" id="__nav_8_1_1_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_1_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1"> <span class="md-nav__icon md-icon"></span> navis </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/config/" class="md-nav__link"> <span class="md-ellipsis"> config </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_2"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/connectivity/" class="md-nav__link "> <span class="md-ellipsis"> connectivity </span> </a> <label class="md-nav__link " for="__nav_8_1_1_2" id="__nav_8_1_1_2_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_2"> <span class="md-nav__icon md-icon"></span> connectivity </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/connectivity/adjacency/" class="md-nav__link"> <span class="md-ellipsis"> adjacency </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/connectivity/similarity/" class="md-nav__link"> <span class="md-ellipsis"> similarity </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_3"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/conversion/" class="md-nav__link "> <span class="md-ellipsis"> conversion </span> </a> <label class="md-nav__link " for="__nav_8_1_1_3" id="__nav_8_1_1_3_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_3"> <span class="md-nav__icon md-icon"></span> conversion </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/conversion/meshing/" class="md-nav__link"> <span class="md-ellipsis"> meshing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_4"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/core/" class="md-nav__link "> <span class="md-ellipsis"> core </span> </a> <label class="md-nav__link " for="__nav_8_1_1_4" id="__nav_8_1_1_4_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_4"> <span class="md-nav__icon md-icon"></span> core </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/core/base/" class="md-nav__link"> <span class="md-ellipsis"> base </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/core/core_utils/" class="md-nav__link"> <span class="md-ellipsis"> core_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/core/skeleton/" class="md-nav__link"> <span class="md-ellipsis"> skeleton </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_5"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/graph/" class="md-nav__link "> <span class="md-ellipsis"> graph </span> </a> <label class="md-nav__link " for="__nav_8_1_1_5" id="__nav_8_1_1_5_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_5"> <span class="md-nav__icon md-icon"></span> graph </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/graph/graph_utils/" class="md-nav__link"> <span class="md-ellipsis"> graph_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/graph/clinic/" class="md-nav__link"> <span class="md-ellipsis"> clinic </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_6"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/meshes/" class="md-nav__link "> <span class="md-ellipsis"> meshes </span> </a> <label class="md-nav__link " for="__nav_8_1_1_6" id="__nav_8_1_1_6_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_6"> <span class="md-nav__icon md-icon"></span> meshes </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/meshes/b3d/" class="md-nav__link"> <span class="md-ellipsis"> b3d </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/meshes/mesh_utils/" class="md-nav__link"> <span class="md-ellipsis"> mesh_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/meshes/o3d/" class="md-nav__link"> <span class="md-ellipsis"> o3d </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/meshes/operations/" class="md-nav__link"> <span class="md-ellipsis"> operations </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_7"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/models/" class="md-nav__link "> <span class="md-ellipsis"> models </span> </a> <label class="md-nav__link " for="__nav_8_1_1_7" id="__nav_8_1_1_7_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_7"> <span class="md-nav__icon md-icon"></span> models </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/models/network_models/" class="md-nav__link"> <span class="md-ellipsis"> network_models </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_8"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/morpho/" class="md-nav__link "> <span class="md-ellipsis"> morpho </span> </a> <label class="md-nav__link " for="__nav_8_1_1_8" id="__nav_8_1_1_8_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_8"> <span class="md-nav__icon md-icon"></span> morpho </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/morpho/ivscc/" class="md-nav__link"> <span class="md-ellipsis"> ivscc </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/morpho/mmetrics/" class="md-nav__link"> <span class="md-ellipsis"> mmetrics </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/morpho/persistence/" class="md-nav__link"> <span class="md-ellipsis"> persistence </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/morpho/subset/" class="md-nav__link"> <span class="md-ellipsis"> subset </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_9"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/nbl/" class="md-nav__link "> <span class="md-ellipsis"> nbl </span> </a> <label class="md-nav__link " for="__nav_8_1_1_9" id="__nav_8_1_1_9_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_9_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_9"> <span class="md-nav__icon md-icon"></span> nbl </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/nbl/ablast_funcs/" class="md-nav__link"> <span class="md-ellipsis"> ablast_funcs </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/nbl/nblast_funcs/" class="md-nav__link"> <span class="md-ellipsis"> nblast_funcs </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/nbl/smat/" class="md-nav__link"> <span class="md-ellipsis"> smat </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/nbl/synblast_funcs/" class="md-nav__link"> <span class="md-ellipsis"> synblast_funcs </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/nbl/utils/" class="md-nav__link"> <span class="md-ellipsis"> utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_10"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/plotting/" class="md-nav__link "> <span class="md-ellipsis"> plotting </span> </a> <label class="md-nav__link " for="__nav_8_1_1_10" id="__nav_8_1_1_10_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_10_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_10"> <span class="md-nav__icon md-icon"></span> plotting </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/colors/" class="md-nav__link"> <span class="md-ellipsis"> colors </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/dd/" class="md-nav__link"> <span class="md-ellipsis"> dd </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/ddd/" class="md-nav__link"> <span class="md-ellipsis"> ddd </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/plot_utils/" class="md-nav__link"> <span class="md-ellipsis"> plot_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/settings/" class="md-nav__link"> <span class="md-ellipsis"> settings </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_10_6"> <label class="md-nav__link" for="__nav_8_1_1_10_6" id="__nav_8_1_1_10_6_label" tabindex="0"> <span class="md-ellipsis"> vispy </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_10_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_10_6"> <span class="md-nav__icon md-icon"></span> vispy </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/vispy/viewer/" class="md-nav__link"> <span class="md-ellipsis"> viewer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_10_7"> <label class="md-nav__link" for="__nav_8_1_1_10_7" id="__nav_8_1_1_10_7_label" tabindex="0"> <span class="md-ellipsis"> k3d </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_10_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_10_7"> <span class="md-nav__icon md-icon"></span> k3d </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/k3d/k3d_objects/" class="md-nav__link"> <span class="md-ellipsis"> k3d_objects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_10_8"> <label class="md-nav__link" for="__nav_8_1_1_10_8" id="__nav_8_1_1_10_8_label" tabindex="0"> <span class="md-ellipsis"> plotly </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_10_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_10_8"> <span class="md-nav__icon md-icon"></span> plotly </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/plotting/plotly/graph_objs/" class="md-nav__link"> <span class="md-ellipsis"> graph_objs </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_11"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/transforms/" class="md-nav__link "> <span class="md-ellipsis"> transforms </span> </a> <label class="md-nav__link " for="__nav_8_1_1_11" id="__nav_8_1_1_11_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_11_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_11"> <span class="md-nav__icon md-icon"></span> transforms </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/align/" class="md-nav__link"> <span class="md-ellipsis"> align </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/affine/" class="md-nav__link"> <span class="md-ellipsis"> affine </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/base/" class="md-nav__link"> <span class="md-ellipsis"> base </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/cmtk/" class="md-nav__link"> <span class="md-ellipsis"> cmtk </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/elastix/" class="md-nav__link"> <span class="md-ellipsis"> elastix </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/factory/" class="md-nav__link"> <span class="md-ellipsis"> factory </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/h5reg/" class="md-nav__link"> <span class="md-ellipsis"> h5reg </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/templates/" class="md-nav__link"> <span class="md-ellipsis"> templates </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/transforms/thinplate/" class="md-nav__link"> <span class="md-ellipsis"> thinplate </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_12"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/utils/" class="md-nav__link "> <span class="md-ellipsis"> utils </span> </a> <label class="md-nav__link " for="__nav_8_1_1_12" id="__nav_8_1_1_12_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_12_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_12"> <span class="md-nav__icon md-icon"></span> utils </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/utils/cv/" class="md-nav__link"> <span class="md-ellipsis"> cv </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/utils/decorators/" class="md-nav__link"> <span class="md-ellipsis"> decorators </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_13"> <label class="md-nav__link" for="__nav_8_1_1_13" id="__nav_8_1_1_13_label" tabindex="0"> <span class="md-ellipsis"> intersection </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_13_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_13"> <span class="md-nav__icon md-icon"></span> intersection </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/intersection/intersect/" class="md-nav__link"> <span class="md-ellipsis"> intersect </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_14"> <label class="md-nav__link" for="__nav_8_1_1_14" id="__nav_8_1_1_14_label" tabindex="0"> <span class="md-ellipsis"> interfaces </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_14_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_14"> <span class="md-nav__icon md-icon"></span> interfaces </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/blender/" class="md-nav__link"> <span class="md-ellipsis"> blender </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/cave_utils/" class="md-nav__link"> <span class="md-ellipsis"> cave_utils </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/h01/" class="md-nav__link"> <span class="md-ellipsis"> h01 </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/insectbrain_db/" class="md-nav__link"> <span class="md-ellipsis"> insectbrain_db </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/microns/" class="md-nav__link"> <span class="md-ellipsis"> microns </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/neuprint/" class="md-nav__link"> <span class="md-ellipsis"> neuprint </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/neuromorpho/" class="md-nav__link"> <span class="md-ellipsis"> neuromorpho </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_14_8"> <div class="md-nav__link md-nav__container"> <a href="../../../../reference/navis/interfaces/neuron/" class="md-nav__link "> <span class="md-ellipsis"> neuron </span> </a> <label class="md-nav__link " for="__nav_8_1_1_14_8" id="__nav_8_1_1_14_8_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_8_1_1_14_8_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_14_8"> <span class="md-nav__icon md-icon"></span> neuron </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/neuron/comp/" class="md-nav__link"> <span class="md-ellipsis"> comp </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/interfaces/neuron/network/" class="md-nav__link"> <span class="md-ellipsis"> network </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_15"> <label class="md-nav__link" for="__nav_8_1_1_15" id="__nav_8_1_1_15_label" tabindex="0"> <span class="md-ellipsis"> io </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_15_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_15"> <span class="md-nav__icon md-icon"></span> io </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/io/base/" class="md-nav__link"> <span class="md-ellipsis"> base </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/hdf_io/" class="md-nav__link"> <span class="md-ellipsis"> hdf_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/mesh_io/" class="md-nav__link"> <span class="md-ellipsis"> mesh_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/nmx_io/" class="md-nav__link"> <span class="md-ellipsis"> nmx_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/nrrd_io/" class="md-nav__link"> <span class="md-ellipsis"> nrrd_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/precomputed_io/" class="md-nav__link"> <span class="md-ellipsis"> precomputed_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/rda_io/" class="md-nav__link"> <span class="md-ellipsis"> rda_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/swc_io/" class="md-nav__link"> <span class="md-ellipsis"> swc_io </span> </a> </li> <li class="md-nav__item"> <a href="../../../../reference/navis/io/tiff_io/" class="md-nav__link"> <span class="md-ellipsis"> tiff_io </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_1_16"> <label class="md-nav__link" for="__nav_8_1_1_16" id="__nav_8_1_1_16_label" tabindex="0"> <span class="md-ellipsis"> sampling </span> <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_1_16_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_8_1_1_16"> <span class="md-nav__icon md-icon"></span> sampling </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../reference/navis/sampling/downsampling/" class="md-nav__link"> <span class="md-ellipsis"> downsampling </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#compartment-models" class="md-nav__link"> <span class="md-ellipsis"> Compartment models </span> </a> </li> <li class="md-nav__item"> <a href="#point-networks" class="md-nav__link"> <span class="md-ellipsis"> Point Networks </span> </a> </li> <li class="md-nav__item"> <a href="#links" class="md-nav__link"> <span class="md-ellipsis"> Links </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Click <a href="#download_links">here</a> to download the full example code</p> </div> <h1 id="neuron-simulator">NEURON simulator<a class="headerlink" href="#neuron-simulator" title="Permanent link">#</a></h1> <p>This tutorial will show you how to simulate neurons and networks thereof using the NEURON simulator.</p> <p><a href="https://neuron.yale.edu/neuron/">NEURON</a> is a simulation environment to model neurons and networks thereof. <code>NEURON</code> itself is rather complex (neurons are complex things after all) and fairly low-level which results in lots of boiler plate code. There are some libraries (e.g. <a href="http://netpyne.org">NetPyNE</a>) that wrap <code>NEURON</code> and provide a higher-level interface to facilitate building models. In my experience these are typically geared towards creating models based on probabilities (e.g. "create 100 neurons with a 10% chance to be connected to another neuron") rather than the well defined morphology/connectivity you get from e.g. connectomes.</p> <p><span style="color:rgb(250,175,3)">NAVis</span> does <em>not</em> try to emulate a full simulation suite but tries to fill a gap for people wanting to use non-probabalistic data (e.g. from connectomics) by providing an entry point for you to get started with some simple models and take it from there. At this point there are two types of models:</p> <ol> <li><a class="autorefs autorefs-internal" title="navis.interfaces.neuron.CompartmentModel" href="../../../../reference/navis/interfaces/neuron/#navis.interfaces.neuron.CompartmentModel"><code>CompartmentModel</code></a> for modeling individual neurons</li> <li><a class="autorefs autorefs-internal" title="navis.interfaces.neuron.PointNetwork" href="../../../../reference/navis/interfaces/neuron/#navis.interfaces.neuron.PointNetwork"><code>PointNetwork</code></a> for modeling networks from point proceses</li> </ol> <h2 id="compartment-models">Compartment models<a class="headerlink" href="#compartment-models" title="Permanent link">#</a></h2> <p>A <a class="autorefs autorefs-internal" title="navis.interfaces.neuron.CompartmentModel" href="../../../../reference/navis/interfaces/neuron/#navis.interfaces.neuron.CompartmentModel"><code>CompartmentModel</code></a> represents a single neuron (although you can connect multiple of these neurons) and is constructed from a skeleton (i.e. <a class="autorefs autorefs-internal" href="../../../../reference/navis/#navis.TreeNeuron"><code>navis.TreeNeuron</code></a>, see also <a class="autorefs autorefs-internal" title="navis.conversion.mesh2skeleton" href="../../../../reference/navis/conversion/#navis.conversion.mesh2skeleton"><code>navis.conversion.mesh2skeleton</code></a>).</p> <div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">navis</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">neuron</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">navis.interfaces.neuron</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nrn</span>

<span class="c1"># Load one of the example neurons (a Drosophila projection neuron from the hemibrain connectome)</span>
<span class="c1"># Note the conversion to microns!</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">example_neurons</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">convert_units</span><span class="p">(</span><span class="s2">"um"</span><span class="p">)</span>

<span class="c1"># Here we manually corrected the soma</span>
<span class="n">n</span><span class="o">.</span><span class="n">soma</span> <span class="o">=</span> <span class="mi">20</span>

<span class="c1"># Reroot to the soma</span>
<span class="n">n</span><span class="o">.</span><span class="n">reroot</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">soma</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Create the compartment model</span>
<span class="n">cmp</span> <span class="o">=</span> <span class="n">nrn</span><span class="o">.</span><span class="n">CompartmentModel</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">res</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div> <p><code>NEURON</code> compartment models are effectively collections of connected linear segments. Each of these segments can have its own set of properties and mechanisms. Here, we will use some biophysical properties from <a href="https://elifesciences.org/articles/24838">Tobin et al. (2017)</a>:</p> <div class="highlight"><pre><span></span><code><span class="c1"># Set the specific axial resistivity for the entire neuron in Ohm cm</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">Ra</span> <span class="o">=</span> <span class="mf">266.1</span>

<span class="c1"># Set the specific membran capacitance in mF / cm**2</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">cm</span> <span class="o">=</span> <span class="mf">0.8</span>

<span class="c1"># Add passive membran properties for the entire neuron</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span>
    <span class="s2">"pas"</span><span class="p">,</span>
    <span class="n">g</span><span class="o">=</span><span class="mi">1</span>
    <span class="o">/</span> <span class="mi">20800</span><span class="p">,</span>  <span class="c1"># specific leakage conductance = 1/Rm; Rm = specific membran resistance in Ohm cm**2</span>
    <span class="n">e</span><span class="o">=-</span><span class="mi">60</span><span class="p">,</span>  <span class="c1"># leakage reverse potential</span>
<span class="p">)</span>
</code></pre></div> <p>At this point we already have a passive model of our <em>Drosophila</em> projection neuron. Next, we will determine what's axon and what's dendrite, and add a Hodgkins &amp; Huxley mechanism so we have some actual action potentials to observe.</p> <p>This will also illustrate one of the features of <a class="autorefs autorefs-internal" title="navis.interfaces.neuron.CompartmentModel" href="../../../../reference/navis/interfaces/neuron/#navis.interfaces.neuron.CompartmentModel"><code>CompartmentModels</code></a>: we keep a correspondence to the original skeleton via node (and connector) IDs. This allows you to modify, stimulate at or record from parts of the compartment model by using node IDs.</p> <div class="highlight"><pre><span></span><code><span class="c1"># Label axon/dendrite</span>
<span class="n">navis</span><span class="o">.</span><span class="n">split_axon_dendrite</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">label_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cellbodyfiber</span><span class="o">=</span><span class="s2">"soma"</span><span class="p">)</span>

<span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div> <div class="output_subarea output_html rendered_html output_result"> <div> <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }

        .dataframe tbody tr th {
            vertical-align: top;
        }

        .dataframe thead th {
            text-align: right;
        }
    </style> <table border="1" class="dataframe"> <thead> <tr style="text-align: right;"> <th></th> <th>node_id</th> <th>label</th> <th>x</th> <th>y</th> <th>z</th> <th>radius</th> <th>parent_id</th> <th>type</th> <th>compartment</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>1</td> <td>0</td> <td>126.272003</td> <td>298.000000</td> <td>224.496017</td> <td>0.080000</td> <td>2</td> <td>end</td> <td>cellbodyfiber</td> </tr> <tr> <th>1</th> <td>2</td> <td>0</td> <td>126.112007</td> <td>297.840027</td> <td>224.656006</td> <td>0.146274</td> <td>3</td> <td>slab</td> <td>cellbodyfiber</td> </tr> <tr> <th>2</th> <td>3</td> <td>0</td> <td>125.952003</td> <td>297.520020</td> <td>224.976013</td> <td>0.277771</td> <td>4</td> <td>slab</td> <td>cellbodyfiber</td> </tr> <tr> <th>3</th> <td>4</td> <td>0</td> <td>125.952003</td> <td>297.200012</td> <td>225.616013</td> <td>0.277771</td> <td>5</td> <td>slab</td> <td>cellbodyfiber</td> </tr> <tr> <th>4</th> <td>5</td> <td>0</td> <td>125.632004</td> <td>297.040009</td> <td>225.936005</td> <td>0.277771</td> <td>6</td> <td>slab</td> <td>cellbodyfiber</td> </tr> </tbody> </table> </div> </div> <p>A quick visualization</p> <div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">plot2d</span><span class="p">(</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">color_by</span><span class="o">=</span><span class="s2">"compartment"</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">"tab10"</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">"3d"</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="p">(</span><span class="s2">"x"</span><span class="p">,</span> <span class="s2">"-z"</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Label compartments</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">compartment</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">loc</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">compartment</span> <span class="o">==</span> <span class="n">l</span><span class="p">,</span> <span class="p">[</span><span class="s2">"x"</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">,</span> <span class="s2">"z"</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">l</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</code></pre></div> <p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="tutorial interfaces 00 neuron" class="mkd-glr-single-img" src="../images/mkd_glr_tutorial_interfaces_00_neuron_001.png" srcset="../images/mkd_glr_tutorial_interfaces_00_neuron_001.png, ../images/mkd_glr_tutorial_interfaces_00_neuron_001_2_0x.png 2.0x"></a></p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>A little excursion about how <code>NEURON</code> represents neurons before we add the Hodgkins &amp; Huxley (HH) mechanism: neurons consist of linear "<em>sections</em>" while individual (continuous) positions along each section are called "<em>segments</em>". That distinction is important because our skeleton nodes correspond to <em>segments</em> but a mechanism such as HH is applied for entire <em>sections</em>.</p> </div> <div class="highlight"><pre><span></span><code><span class="c1"># Collect axon nodes</span>
<span class="n">axon_nodes</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">compartment</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">"axon"</span><span class="p">,</span> <span class="s2">"linker"</span><span class="p">]),</span> <span class="s2">"node_id"</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Get the sections for the given nodes</span>
<span class="n">axon_secs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cmp</span><span class="o">.</span><span class="n">get_node_section</span><span class="p">(</span><span class="n">axon_nodes</span><span class="p">)))</span>

<span class="c1"># Insert HH mechanism at the given sections</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">"hh"</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">axon_secs</span><span class="p">)</span>
</code></pre></div> <p>Next we actually have to do something with our compartment model. For that we will add three voltage recorders: one at the soma, one at the base of the dendrites and one at the tip of the axon.</p> <p>Recordings and stimulations work via segments (as opposed to sections for mechanisms) -&gt; hence we can use node IDs directly here</p> <p>Let's determine the tip of the axon and base of the dendrites programmatically using the geodesic distance:</p> <div class="highlight"><pre><span></span><code><span class="n">dists</span> <span class="o">=</span> <span class="n">navis</span><span class="o">.</span><span class="n">geodesic_matrix</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">soma</span><span class="p">)</span>

<span class="c1"># Sort by distance from soma</span>
<span class="n">dists</span> <span class="o">=</span> <span class="n">dists</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>

<span class="n">dists</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code><span class="m">20</span><span class="w">      </span><span class="m">0</span>.000000
<span class="m">21</span><span class="w">      </span><span class="m">0</span>.455753
<span class="m">19</span><span class="w">      </span><span class="m">0</span>.633259
<span class="m">2409</span><span class="w">    </span><span class="m">0</span>.836538
<span class="m">22</span><span class="w">      </span><span class="m">1</span>.095768
<span class="m">18</span><span class="w">      </span><span class="m">1</span>.113257
<span class="m">23</span><span class="w">      </span><span class="m">1</span>.415775
<span class="m">2410</span><span class="w">    </span><span class="m">1</span>.474030
<span class="m">24</span><span class="w">      </span><span class="m">1</span>.692905
<span class="m">17</span><span class="w">      </span><span class="m">2</span>.032377
Name:<span class="w"> </span><span class="m">20</span>,<span class="w"> </span>dtype:<span class="w"> </span>float32
</code></pre></div> <div class="highlight"><pre><span></span><code><span class="c1"># Find the closest "dendrite" and the most distal "axon" node</span>
<span class="n">dend</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">compartment</span> <span class="o">==</span> <span class="s2">"dendrite"</span><span class="p">]</span><span class="o">.</span><span class="n">node_id</span><span class="o">.</span><span class="n">values</span>
<span class="n">dend_base</span> <span class="o">=</span> <span class="n">dists</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">dists</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">dend</span><span class="p">)][</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Node at the base of the dendrites: </span><span class="si">{</span><span class="n">dend_base</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="n">axo</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">compartment</span> <span class="o">==</span> <span class="s2">"axon"</span><span class="p">]</span><span class="o">.</span><span class="n">node_id</span><span class="o">.</span><span class="n">values</span>
<span class="n">axo_tip</span> <span class="o">=</span> <span class="n">dists</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">dists</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">axo</span><span class="p">)][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Node at the tip of the axon: </span><span class="si">{</span><span class="n">axo_tip</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code>Node<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>base<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>dendrites:<span class="w"> </span><span class="m">467</span>
Node<span class="w"> </span>at<span class="w"> </span>the<span class="w"> </span>tip<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>axon:<span class="w"> </span><span class="m">4384</span>
</code></pre></div> <div class="highlight"><pre><span></span><code><span class="c1"># Add voltage recordings</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_voltage_record</span><span class="p">(</span><span class="n">dend_base</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"dendrite_base"</span><span class="p">)</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_voltage_record</span><span class="p">(</span><span class="n">axo_tip</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"axon_tip"</span><span class="p">)</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_voltage_record</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">soma</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"soma"</span><span class="p">)</span>
</code></pre></div> <p>Last but not least we need to provide some input to our neuron otherwise it will just sit there doing nothing. We can add a current injection, trigger some synaptic currents or add a leak current. Let's simulate some synaptic inputs:</p> <div class="highlight"><pre><span></span><code><span class="c1"># Get dendritic postsynapses</span>
<span class="n">post</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">postsynapses</span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">postsynapses</span><span class="o">.</span><span class="n">compartment</span> <span class="o">==</span> <span class="s2">"dendrite"</span><span class="p">]</span>
<span class="n">post</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div> <div class="output_subarea output_html rendered_html output_result"> <div> <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }

        .dataframe tbody tr th {
            vertical-align: top;
        }

        .dataframe thead th {
            text-align: right;
        }
    </style> <table border="1" class="dataframe"> <thead> <tr style="text-align: right;"> <th></th> <th>connector_id</th> <th>node_id</th> <th>type</th> <th>x</th> <th>y</th> <th>z</th> <th>roi</th> <th>confidence</th> <th>compartment</th> </tr> </thead> <tbody> <tr> <th>137</th> <td>137</td> <td>3736</td> <td>post</td> <td>135.232</td> <td>291.104</td> <td>210.840</td> <td>AL(R)</td> <td>0.906454</td> <td>dendrite</td> </tr> <tr> <th>138</th> <td>138</td> <td>635</td> <td>post</td> <td>132.872</td> <td>284.448</td> <td>196.056</td> <td>AL(R)</td> <td>0.928960</td> <td>dendrite</td> </tr> <tr> <th>139</th> <td>139</td> <td>4124</td> <td>post</td> <td>131.432</td> <td>277.048</td> <td>200.960</td> <td>AL(R)</td> <td>0.605084</td> <td>dendrite</td> </tr> <tr> <th>140</th> <td>140</td> <td>3176</td> <td>post</td> <td>124.984</td> <td>286.568</td> <td>216.480</td> <td>AL(R)</td> <td>0.922643</td> <td>dendrite</td> </tr> <tr> <th>219</th> <td>219</td> <td>3061</td> <td>post</td> <td>128.312</td> <td>276.848</td> <td>217.272</td> <td>AL(R)</td> <td>0.981077</td> <td>dendrite</td> </tr> </tbody> </table> </div> </div> <div class="highlight"><pre><span></span><code><span class="c1"># Here we will open successively more synapses over 5 stimulations</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="c1"># Onset for this stimulation</span>
    <span class="n">start</span> <span class="o">=</span> <span class="mi">50</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">200</span>
    <span class="c1"># Number of synapses to activate</span>
    <span class="n">n_syn</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">5</span>
    <span class="n">cmp</span><span class="o">.</span><span class="n">add_synaptic_current</span><span class="p">(</span>
        <span class="n">where</span><span class="o">=</span><span class="n">post</span><span class="o">.</span><span class="n">node_id</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="n">n_syn</span><span class="p">],</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">max_syn_cond</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">rev_pot</span><span class="o">=-</span><span class="mi">10</span>
    <span class="p">)</span>
</code></pre></div> <div class="highlight"><pre><span></span><code><span class="c1"># Now we can run our simulation for 1000ms</span>
<span class="c1"># (this is equivalent to neuron.h.finitialize + neuron.h.continuerun)</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">run_simulation</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">v_init</span><span class="o">=-</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div> <p>The compartment model has a quick &amp; dirty way of plotting the results:</p> <div class="highlight"><pre><span></span><code><span class="c1"># Plot the results</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">.</span><span class="n">plot_results</span><span class="p">()</span>
</code></pre></div> <p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="tutorial interfaces 00 neuron" class="mkd-glr-single-img" src="../images/mkd_glr_tutorial_interfaces_00_neuron_002.png" srcset="../images/mkd_glr_tutorial_interfaces_00_neuron_002.png, ../images/mkd_glr_tutorial_interfaces_00_neuron_002_2_0x.png 2.0x"></a></p> <div class="highlight"><pre><span></span><code><span class="c1"># Plot again and zoom in on one spike</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">.</span><span class="n">plot_results</span><span class="p">()</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
</code></pre></div> <p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="tutorial interfaces 00 neuron" class="mkd-glr-single-img" src="../images/mkd_glr_tutorial_interfaces_00_neuron_003.png" srcset="../images/mkd_glr_tutorial_interfaces_00_neuron_003.png, ../images/mkd_glr_tutorial_interfaces_00_neuron_003_2_0x.png 2.0x"></a></p> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code><span class="o">(</span><span class="m">240</span>.0,<span class="w"> </span><span class="m">280</span>.0<span class="o">)</span>
</code></pre></div> <p>As you can see we get a nice depolarization at the base of the dendrites which elicits an action potential that we can measure in the tips of the axon. Because in our model the cell body fiber (i.e. the neurite that connects the soma to the base of the dendrites) is passive, the depolarization of a single spike attenuates before it reaches the soma.</p> <p>Alternatively, you can access the recorded values directly like so:</p> <div class="highlight"><pre><span></span><code><span class="n">cmp</span><span class="o">.</span><span class="n">records</span>
</code></pre></div> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code><span class="o">{</span><span class="s1">'v'</span>:<span class="w"> </span><span class="o">{</span><span class="s1">'dendrite_base'</span>:<span class="w"> </span>Vector<span class="o">[</span><span class="m">0</span><span class="o">]</span>,<span class="w"> </span><span class="s1">'axon_tip'</span>:<span class="w"> </span>Vector<span class="o">[</span><span class="m">1</span><span class="o">]</span>,<span class="w"> </span><span class="s1">'soma'</span>:<span class="w"> </span>Vector<span class="o">[</span><span class="m">2</span><span class="o">]}}</span>
</code></pre></div> <div class="highlight"><pre><span></span><code><span class="n">cmp</span><span class="o">.</span><span class="n">records</span><span class="p">[</span><span class="s2">"v"</span><span class="p">][</span><span class="s2">"dendrite_base"</span><span class="p">]</span><span class="o">.</span><span class="n">as_numpy</span><span class="p">()</span>
</code></pre></div> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code>array<span class="o">([</span>-60.<span class="w">        </span>,<span class="w"> </span>-60.05746836,<span class="w"> </span>-60.10429959,<span class="w"> </span>...,<span class="w"> </span>-63.74603203,
<span class="w">       </span>-63.74603203,<span class="w"> </span>-63.74603203<span class="o">]</span>,<span class="w"> </span><span class="nv">shape</span><span class="o">=(</span><span class="m">40001</span>,<span class="o">))</span>
</code></pre></div> <p>Next, let's try to simulate some noisy input where the presynaptic neuron spikes multiple times:</p> <div class="highlight"><pre><span></span><code><span class="c1"># First we need to reset our model (by re-assigning `cmp` the old model will be garbage-collected)</span>
<span class="n">cmp</span> <span class="o">=</span> <span class="n">nrn</span><span class="o">.</span><span class="n">CompartmentModel</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">res</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Set properties and mechanisms</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">Ra</span><span class="p">,</span> <span class="n">cmp</span><span class="o">.</span><span class="n">cm</span> <span class="o">=</span> <span class="mf">266.1</span><span class="p">,</span> <span class="mf">0.8</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">"pas"</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">20800</span><span class="p">,</span> <span class="n">e</span><span class="o">=-</span><span class="mi">60</span><span class="p">)</span>
<span class="n">axon_secs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cmp</span><span class="o">.</span><span class="n">get_node_section</span><span class="p">(</span><span class="n">axon_nodes</span><span class="p">)))</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">"hh"</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">axon_secs</span><span class="p">)</span>

<span class="c1"># Add recording</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_voltage_record</span><span class="p">(</span><span class="n">dend_base</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"dendrite_base"</span><span class="p">)</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_voltage_record</span><span class="p">(</span><span class="n">axo_tip</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"axon_tip"</span><span class="p">)</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_voltage_record</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">soma</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"soma"</span><span class="p">)</span>

<span class="c1"># Also add a spike counter at the axon</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_spike_detector</span><span class="p">(</span><span class="n">axo_tip</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"axon_tip"</span><span class="p">)</span>

<span class="c1"># Now add a noisy preinput to say 20 dendritic postsynapses</span>
<span class="n">post</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">connectors</span><span class="p">[</span>
    <span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">connectors</span><span class="o">.</span><span class="n">compartment</span> <span class="o">==</span> <span class="s2">"dendrite"</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">connectors</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">"post"</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">add_synaptic_input</span><span class="p">(</span>
    <span class="n">post</span><span class="o">.</span><span class="n">node_id</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">],</span>
    <span class="n">spike_no</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>  <span class="c1"># produce 20 presynaptic spikes</span>
    <span class="n">spike_int</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>  <span class="c1"># with an average interval of 50ms: 20 * 50ms = over 1s</span>
    <span class="n">spike_noise</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>  <span class="c1"># very noisy!</span>
    <span class="n">cn_weight</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span>
<span class="p">)</span>
<span class="c1"># Run for 1s</span>
<span class="n">cmp</span><span class="o">.</span><span class="n">run_simulation</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">v_init</span><span class="o">=-</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div> <div class="highlight"><pre><span></span><code><span class="c1"># Plot results</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">.</span><span class="n">plot_results</span><span class="p">()</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">"spikes [Hz]"</span><span class="p">)</span>
</code></pre></div> <p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="tutorial interfaces 00 neuron" class="mkd-glr-single-img" src="../images/mkd_glr_tutorial_interfaces_00_neuron_004.png" srcset="../images/mkd_glr_tutorial_interfaces_00_neuron_004.png, ../images/mkd_glr_tutorial_interfaces_00_neuron_004_2_0x.png 2.0x"></a></p> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code>Text<span class="o">(</span><span class="m">94</span>.06944444444443,<span class="w"> </span><span class="m">0</span>.5,<span class="w"> </span><span class="s1">'spikes [Hz]'</span><span class="o">)</span>
</code></pre></div> <p>Note how we still don't see a depolarization in the soma? While that might be a genuine biological feature of this neuron, I suspect there is something wrong with the radii along the cell body fiber - perhaps a pinch point somewhere? This just illustrates that good skeletons are paramount and you should critically inspect the results of your models.</p> <p>Many methods in <a class="autorefs autorefs-internal" title="navis.interfaces.neuron.CompartmentModel" href="../../../../reference/navis/interfaces/neuron/#navis.interfaces.neuron.CompartmentModel"><code>CompartmentModel</code></a> try to use sensible defaults to make sure that you get some sort of effect. That said, it's advisable that you adjust parameters as you fit your model to real world data. Check the help to see what you can do:</p> <p>Try this for example </p><div class="highlight"><pre><span></span><code><span class="n">help</span><span class="p">(</span><span class="n">cmp</span><span class="o">.</span><span class="n">add_synaptic_input</span><span class="p">)</span>
</code></pre></div><p></p> <h2 id="point-networks">Point Networks<a class="headerlink" href="#point-networks" title="Permanent link">#</a></h2> <p>While you can link together multiple compartment models to simulate networks this quickly becomes prohibitively slow to run. For larger networks it can be sufficient to model each neuron as a single "point process". <a class="autorefs autorefs-internal" title="navis.interfaces.neuron.PointNetwork" href="../../../../reference/navis/interfaces/neuron/#navis.interfaces.neuron.PointNetwork"><code>PointNetwork</code></a> lets you quickly create such a network from an edge list.</p> <p>In this tutorial we will use toy data but it is just as straight forward to plugin real data:</p> <div class="highlight"><pre><span></span><code><span class="c1"># First create a small 3 way network where one of the neurons (B) is inhibitory</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([])</span>
<span class="n">edges</span><span class="p">[</span><span class="s2">"source"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"A"</span><span class="p">,</span> <span class="s2">"B"</span><span class="p">]</span>
<span class="n">edges</span><span class="p">[</span><span class="s2">"target"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"C"</span><span class="p">,</span> <span class="s2">"C"</span><span class="p">]</span>
<span class="n">edges</span><span class="p">[</span><span class="s2">"weight"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">edges</span>
</code></pre></div> <div class="output_subarea output_html rendered_html output_result"> <div> <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }

        .dataframe tbody tr th {
            vertical-align: top;
        }

        .dataframe thead th {
            text-align: right;
        }
    </style> <table border="1" class="dataframe"> <thead> <tr style="text-align: right;"> <th></th> <th>source</th> <th>target</th> <th>weight</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>A</td> <td>C</td> <td>0.5</td> </tr> <tr> <th>1</th> <td>B</td> <td>C</td> <td>-1.0</td> </tr> </tbody> </table> </div> </div> <div class="highlight"><pre><span></span><code><span class="c1"># Next initialize network from edge list</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">nrn</span><span class="o">.</span><span class="n">PointNetwork</span><span class="o">.</span><span class="n">from_edge_list</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s2">"IntFire4"</span><span class="p">)</span>
<span class="n">net</span>
</code></pre></div> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code>PointNetwork&lt;<span class="nv">neurons</span><span class="o">=</span><span class="m">3</span>,edges<span class="o">=</span><span class="m">2</span>&gt;
</code></pre></div> <p>So far, our network won't do anything because it doesn't have any input. Let's add an input to neurons A and B, and try that out:</p> <div class="highlight"><pre><span></span><code><span class="c1"># Add the stimulus</span>
<span class="n">net</span><span class="o">.</span><span class="n">add_stimulus</span><span class="p">(</span><span class="s2">"A"</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">randomness</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">net</span><span class="o">.</span><span class="n">add_stimulus</span><span class="p">(</span><span class="s2">"B"</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">randomness</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Run simulation</span>
<span class="n">net</span><span class="o">.</span><span class="n">run_simulation</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</code></pre></div> <div class="highlight"><pre><span></span><code><span class="c1"># Plot</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">net</span><span class="o">.</span><span class="n">plot_raster</span><span class="p">(</span><span class="n">backend</span><span class="o">=</span><span class="s2">"matplotlib"</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</code></pre></div> <p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="tutorial interfaces 00 neuron" class="mkd-glr-single-img" src="../images/mkd_glr_tutorial_interfaces_00_neuron_005.png" srcset="../images/mkd_glr_tutorial_interfaces_00_neuron_005.png, ../images/mkd_glr_tutorial_interfaces_00_neuron_005_2_0x.png 2.0x"></a></p> <p class="mkd-glr-script-out">Out:</p> <div class="mkd-glr-script-out-disp highlight"><pre><span></span><code><span class="o">(</span><span class="m">0</span>.0,<span class="w"> </span><span class="m">1000</span>.0<span class="o">)</span>
</code></pre></div> <p>This toy example worked quite well: spikes in neuron <code>A</code> elicit occasional spikes in <code>C</code> via temporal summation. Activity in the inhibitiory neuron <code>B</code> hyperpolarizes <code>C</code> and it stops firing until well after activity in <code>B</code> has ceased.</p> <p>The <code>NEURON</code> interface is a very recent addition and it might well change in the future (or become its own package). Functionality is also still limited and while I don't intend to write a feature-complete wrapper for <code>NEURON</code>, I do welcome feature requests or contributions on Github.</p> <h2 id="links">Links<a class="headerlink" href="#links" title="Permanent link">#</a></h2> <ul> <li><a href="https://senselab.med.yale.edu/ModelDB/">Model DB</a> contains various published <code>NEURON</code> models and mechanisms</li> <li><a href="http://netpyne.org/">NetPyNE</a> wraps <code>NEURON</code> and provides high-level syntax to create models</li> </ul> <p><strong>Total running time of the script:</strong> ( 0 minutes 9.109 seconds)</p> <div id="download_links"></div> <p><a class="md-button center" href="../tutorial_interfaces_00_neuron.py"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32v210.7l-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7zM64 320c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64v-32c0-35.3-28.7-64-64-64h-46.9l-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48"></path></svg></span> Download Python source code: tutorial_interfaces_00_neuron.py</a></p> <p><a class="md-button center" href="../tutorial_interfaces_00_neuron.ipynb"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 32c0-17.7-14.3-32-32-32s-32 14.3-32 32v210.7l-41.4-41.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 242.7zM64 320c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64v-32c0-35.3-28.7-64-64-64h-46.9l-56.6 56.6c-31.2 31.2-81.9 31.2-113.1 0L110.9 320zm304 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48"></path></svg></span> Download Jupyter notebook: tutorial_interfaces_00_neuron.ipynb</a></p> <p><a class="mkd-glr-signature" href="https://smarie.github.io/mkdocs-gallery">Gallery generated by mkdocs-gallery</a></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["content.tabs.link", "content.code.annotate", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../../../../assets/_markdown_exec_pyodide.js"></script> <script src="../../../../javascripts/katex.js"></script> <script src="../../../../assets/external/unpkg.com/katex@0/dist/katex.min.js"></script> <script src="../../../../assets/external/unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script> <script src="../../../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>  <script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>